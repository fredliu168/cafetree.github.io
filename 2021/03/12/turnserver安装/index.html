<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> turnserver安装 · 运维笔记</title><meta name="description" content="turnserver安装 - marsland"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/prontera.css"><link rel="search" type="application/opensearchdescription+xml" href="https://blog.qzcool.xyz/atom.xml" title="运维笔记"><link rel="alternate" href="/atom.xml" title="运维笔记" type="application/atom+xml">
</head><body><header class="feature-header"><nav class="component-nav"><ul><div class="logo-container"><a href="/"><h2 class="title">运维笔记</h2></a></div><a href="/" target="_self" class="li component-nav-item"><p>INDEX</p></a><a href="/archives" target="_self" class="li component-nav-item"><p>ARCHIVES</p></a><ul class="shortcut-icons"><a href="https://github.com/fredliu168" target="_blank"><img src="/images/github.svg" class="icon"></a><a href="/atom.xml" target="_blank"><img src="/images/rss.svg" class="icon"></a></ul></ul></nav></header><main class="container"><div id="post-container"><div class="post"><article class="post-block"><h1 class="post-title">turnserver安装</h1><div class="post-info">Mar 12, 2021</div><div class="post-content"><h1 id="turnserver-安装"><a href="#turnserver-安装" class="headerlink" title="turnserver 安装"></a>turnserver 安装</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install libssl-dev</span><br><span class="line">sudo apt-get install libevent-dev</span><br><span class="line"></span><br><span class="line">apt install turnserver</span><br></pre></td></tr></table></figure>
<p>配置目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> /etc/turnserver.conf</span><br><span class="line"></span><br><span class="line">修改 </span><br><span class="line">listening-port= 3478</span><br><span class="line">和</span><br><span class="line">listening-ip=104.207.157.189</span><br><span class="line">external-ip=104.207.157.189</span><br></pre></td></tr></table></figure></p>
<p>启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/bin/turnserver &amp;</span><br></pre></td></tr></table></figure></p>
<p>#检查<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo lsof -i:3478</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br></pre></td><td class="code"><pre><span class="line"># Coturn TURN SERVER configuration file</span><br><span class="line">#</span><br><span class="line"># Boolean values note: where boolean value is supposed to be used,</span><br><span class="line"># you can use &apos;0&apos;, &apos;off&apos;, &apos;no&apos;, &apos;false&apos;, &apos;f&apos; as &apos;false, </span><br><span class="line"># and you can use &apos;1&apos;, &apos;on&apos;, &apos;yes&apos;, &apos;true&apos;, &apos;t&apos; as &apos;true&apos; </span><br><span class="line"># If the value is missed, then it means &apos;true&apos;.</span><br><span class="line">#</span><br><span class="line"></span><br><span class="line"># Listener interface device (optional, Linux only).</span><br><span class="line"># NOT RECOMMENDED. </span><br><span class="line">#</span><br><span class="line">#listening-device=eth0</span><br><span class="line"></span><br><span class="line"># TURN listener port for UDP and TCP (Default: 3478).</span><br><span class="line"># Note: actually, TLS &amp; DTLS sessions can connect to the </span><br><span class="line"># &quot;plain&quot; TCP &amp; UDP port(s), too - if allowed by configuration.</span><br><span class="line">#</span><br><span class="line">listening-port= 3478</span><br><span class="line"></span><br><span class="line"># TURN listener port for TLS (Default: 5349).</span><br><span class="line"># Note: actually, &quot;plain&quot; TCP &amp; UDP sessions can connect to the TLS &amp; DTLS</span><br><span class="line"># port(s), too - if allowed by configuration. The TURN server </span><br><span class="line"># &quot;automatically&quot; recognizes the type of traffic. Actually, two listening</span><br><span class="line"># endpoints (the &quot;plain&quot; one and the &quot;tls&quot; one) are equivalent in terms of</span><br><span class="line"># functionality; but we keep both endpoints to satisfy the RFC 5766 specs.</span><br><span class="line"># For secure TCP connections, we currently support SSL version 3 and </span><br><span class="line"># TLS version 1.0, 1.1 and 1.2.</span><br><span class="line"># For secure UDP connections, we support DTLS version 1.</span><br><span class="line">#</span><br><span class="line">#tls-listening-port=5349</span><br><span class="line"></span><br><span class="line"># Alternative listening port for UDP and TCP listeners;</span><br><span class="line"># default (or zero) value means &quot;listening port plus one&quot;. </span><br><span class="line"># This is needed for RFC 5780 support</span><br><span class="line"># (STUN extension specs, NAT behavior discovery). The TURN Server </span><br><span class="line"># supports RFC 5780 only if it is started with more than one </span><br><span class="line"># listening IP address of the same family (IPv4 or IPv6).</span><br><span class="line"># RFC 5780 is supported only by UDP protocol, other protocols</span><br><span class="line"># are listening to that endpoint only for &quot;symmetry&quot;.</span><br><span class="line">#</span><br><span class="line">#alt-listening-port=0</span><br><span class="line">							 </span><br><span class="line"># Alternative listening port for TLS and DTLS protocols.</span><br><span class="line"># Default (or zero) value means &quot;TLS listening port plus one&quot;.</span><br><span class="line">#</span><br><span class="line">#alt-tls-listening-port=0</span><br><span class="line">	</span><br><span class="line"># Listener IP address of relay server. Multiple listeners can be specified.</span><br><span class="line"># If no IP(s) specified in the config file or in the command line options, </span><br><span class="line"># then all IPv4 and IPv6 system IPs will be used for listening.</span><br><span class="line">#</span><br><span class="line">#listening-ip=172.17.19.101</span><br><span class="line">#listening-ip=10.207.21.238</span><br><span class="line">#listening-ip=2607:f0d0:1002:51::4</span><br><span class="line">listening-ip=104.207.157.189</span><br><span class="line">external-ip=104.207.157.189</span><br><span class="line"># Auxiliary STUN/TURN server listening endpoint.</span><br><span class="line"># Aux servers have almost full TURN and STUN functionality.</span><br><span class="line"># The (minor) limitations are:</span><br><span class="line">#</span><br><span class="line"># 1) Auxiliary servers do not have alternative ports and</span><br><span class="line"># they do not support STUN RFC 5780 functionality (CHANGE REQUEST).</span><br><span class="line">#</span><br><span class="line"># 2) Auxiliary servers also are never returning ALTERNATIVE-SERVER reply.</span><br><span class="line"># </span><br><span class="line"># Valid formats are 1.2.3.4:5555 for IPv4 and [1:2::3:4]:5555 for IPv6.</span><br><span class="line">#</span><br><span class="line"># There may be multiple aux-server options, each will be used for listening</span><br><span class="line"># to client requests.</span><br><span class="line">#</span><br><span class="line">#aux-server=172.17.19.110:33478</span><br><span class="line">#aux-server=[2607:f0d0:1002:51::4]:33478</span><br><span class="line"></span><br><span class="line"># (recommended for older Linuxes only)</span><br><span class="line"># Automatically balance UDP traffic over auxiliary servers (if configured).</span><br><span class="line"># The load balancing is using the ALTERNATE-SERVER mechanism.</span><br><span class="line"># The TURN client must support 300 ALTERNATE-SERVER response for this </span><br><span class="line"># functionality.</span><br><span class="line">#</span><br><span class="line">#udp-self-balance</span><br><span class="line"></span><br><span class="line"># Relay interface device for relay sockets (optional, Linux only).</span><br><span class="line"># NOT RECOMMENDED.</span><br><span class="line">#</span><br><span class="line">#relay-device=eth1</span><br><span class="line"></span><br><span class="line"># Relay address (the local IP address that will be used to relay the </span><br><span class="line"># packets to the peer).</span><br><span class="line"># Multiple relay addresses may be used.</span><br><span class="line"># The same IP(s) can be used as both listening IP(s) and relay IP(s).</span><br><span class="line">#</span><br><span class="line"># If no relay IP(s) specified, then the turnserver will apply the default</span><br><span class="line"># policy: it will decide itself which relay addresses to be used, and it </span><br><span class="line"># will always be using the client socket IP address as the relay IP address</span><br><span class="line"># of the TURN session (if the requested relay address family is the same</span><br><span class="line"># as the family of the client socket).</span><br><span class="line">#</span><br><span class="line">#relay-ip=172.17.19.105</span><br><span class="line">#relay-ip=2607:f0d0:1002:51::5</span><br><span class="line"></span><br><span class="line"># For Amazon EC2 users:</span><br><span class="line">#</span><br><span class="line"># TURN Server public/private address mapping, if the server is behind NAT.</span><br><span class="line"># In that situation, if a -X is used in form &quot;-X &lt;ip&gt;&quot; then that ip will be reported</span><br><span class="line"># as relay IP address of all allocations. This scenario works only in a simple case</span><br><span class="line"># when one single relay address is be used, and no RFC5780 functionality is required.</span><br><span class="line"># That single relay address must be mapped by NAT to the &apos;external&apos; IP.</span><br><span class="line"># The &quot;external-ip&quot; value, if not empty, is returned in XOR-RELAYED-ADDRESS field.</span><br><span class="line"># For that &apos;external&apos; IP, NAT must forward ports directly (relayed port 12345</span><br><span class="line"># must be always mapped to the same &apos;external&apos; port 12345).</span><br><span class="line">#</span><br><span class="line"># In more complex case when more than one IP address is involved,</span><br><span class="line"># that option must be used several times, each entry must</span><br><span class="line"># have form &quot;-X &lt;public-ip/private-ip&gt;&quot;, to map all involved addresses.</span><br><span class="line"># RFC5780 NAT discovery STUN functionality will work correctly,</span><br><span class="line"># if the addresses are mapped properly, even when the TURN server itself </span><br><span class="line"># is behind A NAT.</span><br><span class="line">#</span><br><span class="line"># By default, this value is empty, and no address mapping is used.</span><br><span class="line">#</span><br><span class="line">#external-ip=60.70.80.91</span><br><span class="line">#</span><br><span class="line">#OR:</span><br><span class="line">#</span><br><span class="line">#external-ip=60.70.80.91/172.17.19.101</span><br><span class="line">#external-ip=60.70.80.92/172.17.19.102</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Number of the relay threads to handle the established connections</span><br><span class="line"># (in addition to authentication thread and the listener thread).</span><br><span class="line"># If explicitly set to 0 then application runs relay process in a </span><br><span class="line"># single thread, in the same thread with the listener process </span><br><span class="line"># (the authentication thread will still be a separate thread).</span><br><span class="line">#</span><br><span class="line"># If this parameter is not set, then the default OS-dependent </span><br><span class="line"># thread pattern algorithm will be employed. Usually the default</span><br><span class="line"># algorithm is the most optimal, so you have to change this option</span><br><span class="line"># only if you want to make some fine tweaks. </span><br><span class="line">#</span><br><span class="line"># In the older systems (Linux kernel before 3.9),</span><br><span class="line"># the number of UDP threads is always one thread per network listening</span><br><span class="line"># endpoint - including the auxiliary endpoints - unless 0 (zero) or </span><br><span class="line"># 1 (one) value is set.</span><br><span class="line">#</span><br><span class="line">#relay-threads=0</span><br><span class="line"></span><br><span class="line"># Lower and upper bounds of the UDP relay endpoints:</span><br><span class="line"># (default values are 49152 and 65535)</span><br><span class="line">#</span><br><span class="line">#min-port=49152</span><br><span class="line">#max-port=65535</span><br><span class="line"></span><br><span class="line">min-port=100</span><br><span class="line">max-port=500</span><br><span class="line"></span><br><span class="line"># Uncomment to run TURN server in &apos;normal&apos; &apos;moderate&apos; verbose mode.</span><br><span class="line"># By default the verbose mode is off.</span><br><span class="line">#verbose</span><br><span class="line">	</span><br><span class="line"># Uncomment to run TURN server in &apos;extra&apos; verbose mode.</span><br><span class="line"># This mode is very annoying and produces lots of output.</span><br><span class="line"># Not recommended under any normal circumstances.</span><br><span class="line">#	</span><br><span class="line">#Verbose</span><br><span class="line"></span><br><span class="line"># Uncomment to use fingerprints in the TURN messages.</span><br><span class="line"># By default the fingerprints are off.</span><br><span class="line">#</span><br><span class="line">#fingerprint</span><br><span class="line"></span><br><span class="line"># Uncomment to use long-term credential mechanism.</span><br><span class="line"># By default no credentials mechanism is used (any user allowed).</span><br><span class="line">#</span><br><span class="line">lt-cred-mech</span><br><span class="line"></span><br><span class="line"># This option is opposite to lt-cred-mech. </span><br><span class="line"># (TURN Server with no-auth option allows anonymous access).</span><br><span class="line"># If neither option is defined, and no users are defined,</span><br><span class="line"># then no-auth is default. If at least one user is defined, </span><br><span class="line"># in this file or in command line or in usersdb file, then</span><br><span class="line"># lt-cred-mech is default.</span><br><span class="line">#</span><br><span class="line">#no-auth</span><br><span class="line"></span><br><span class="line"># TURN REST API flag.</span><br><span class="line"># Flag that sets a special authorization option that is based upon authentication secret.</span><br><span class="line"># This feature can be used with the long-term authentication mechanism, only.</span><br><span class="line"># This feature purpose is to support &quot;TURN Server REST API&quot;, see</span><br><span class="line"># &quot;TURN REST API&quot; link in the project&apos;s page </span><br><span class="line"># https://github.com/coturn/coturn/</span><br><span class="line">#</span><br><span class="line"># This option is used with timestamp:</span><br><span class="line"># </span><br><span class="line"># usercombo -&gt; &quot;timestamp:userid&quot;</span><br><span class="line"># turn user -&gt; usercombo</span><br><span class="line"># turn password -&gt; base64(hmac(secret key, usercombo))</span><br><span class="line">#</span><br><span class="line"># This allows TURN credentials to be accounted for a specific user id.</span><br><span class="line"># If you don&apos;t have a suitable id, the timestamp alone can be used.</span><br><span class="line"># This option is just turning on secret-based authentication.</span><br><span class="line"># The actual value of the secret is defined either by option static-auth-secret,</span><br><span class="line"># or can be found in the turn_secret table in the database (see below).</span><br><span class="line"># </span><br><span class="line">#use-auth-secret</span><br><span class="line"></span><br><span class="line"># &apos;Static&apos; authentication secret value (a string) for TURN REST API only. </span><br><span class="line"># If not set, then the turn server</span><br><span class="line"># will try to use the &apos;dynamic&apos; value in turn_secret table</span><br><span class="line"># in user database (if present). The database-stored  value can be changed on-the-fly</span><br><span class="line"># by a separate program, so this is why that other mode is &apos;dynamic&apos;.</span><br><span class="line">#</span><br><span class="line">#static-auth-secret=north</span><br><span class="line"></span><br><span class="line"># Server name used for</span><br><span class="line"># the oAuth authentication purposes.</span><br><span class="line"># The default value is the realm name.</span><br><span class="line">#</span><br><span class="line">#server-name=blackdow.carleon.gov</span><br><span class="line"></span><br><span class="line"># Flag that allows oAuth authentication.</span><br><span class="line">#</span><br><span class="line">#oauth</span><br><span class="line"></span><br><span class="line">#The default realm to be used for the users when no explicit origin/realm </span><br><span class="line">#relationship was found in the database. Must be used with long-term </span><br><span class="line">#credentials mechanism or with TURN REST API.</span><br><span class="line">#</span><br><span class="line">#realm=realm</span><br><span class="line"></span><br><span class="line"># &apos;Static&apos; user accounts for long term credentials mechanism, only.</span><br><span class="line"># This option cannot be used with TURN REST API.</span><br><span class="line"># This option require a realm.</span><br><span class="line"># &apos;Static&apos; user accounts are NOT dynamically checked by the turnserver process, </span><br><span class="line"># so that they can NOT be changed while the turnserver is running.</span><br><span class="line">#</span><br><span class="line">#user=username1:key1</span><br><span class="line">#user=username2:key2</span><br><span class="line"># OR:</span><br><span class="line">#user=username1:password1</span><br><span class="line">#user=username2:password2</span><br><span class="line">#</span><br><span class="line">user=lqf:123456</span><br><span class="line"># Keys must be generated by turnadmin utility. The key value depends</span><br><span class="line"># on user name, realm, and password:</span><br><span class="line">#</span><br><span class="line"># Example:</span><br><span class="line"># $ turnadmin -k -u ninefingers -r north.gov -p youhavetoberealistic</span><br><span class="line"># Output: 0xbc807ee29df3c9ffa736523fb2c4e8ee</span><br><span class="line"># (&apos;0x&apos; in the beginning of the key is what differentiates the key from</span><br><span class="line"># password. If it has 0x then it is a key, otherwise it is a password).</span><br><span class="line">#</span><br><span class="line"># The corresponding user account entry in the config file will be:</span><br><span class="line"># </span><br><span class="line">#user=ninefingers:0xbc807ee29df3c9ffa736523fb2c4e8ee</span><br><span class="line"># Or, equivalently, with open clear password (less secure):</span><br><span class="line">#user=ninefingers:youhavetoberealistic</span><br><span class="line">#</span><br><span class="line"></span><br><span class="line"># SQLite database file name.</span><br><span class="line">#</span><br><span class="line"># Default file name is /var/db/turndb or /usr/local/var/db/turndb or</span><br><span class="line"># /var/lib/turn/turndb.</span><br><span class="line"># </span><br><span class="line">#userdb=/var/db/turndb</span><br><span class="line"></span><br><span class="line"># PostgreSQL database connection string in the case that we are using PostgreSQL</span><br><span class="line"># as the user database.</span><br><span class="line"># This database can be used for long-term credential mechanism</span><br><span class="line"># and it can store the secret value for secret-based timed authentication in TURN RESP API. </span><br><span class="line"># See http://www.postgresql.org/docs/8.4/static/libpq-connect.html for 8.x PostgreSQL</span><br><span class="line"># versions connection string format, see </span><br><span class="line"># http://www.postgresql.org/docs/9.2/static/libpq-connect.html#LIBPQ-CONNSTRING</span><br><span class="line"># for 9.x and newer connection string formats.</span><br><span class="line">#</span><br><span class="line">#psql-userdb=&quot;host=&lt;host&gt; dbname=&lt;database-name&gt; user=&lt;database-user&gt; password=&lt;database-user-password&gt; connect_timeout=30&quot;</span><br><span class="line"></span><br><span class="line"># MySQL database connection string in the case that we are using MySQL</span><br><span class="line"># as the user database.</span><br><span class="line"># This database can be used for long-term credential mechanism</span><br><span class="line"># and it can store the secret value for secret-based timed authentication in TURN RESP API.</span><br><span class="line">#</span><br><span class="line"># Optional connection string parameters for the secure communications (SSL): </span><br><span class="line"># ca, capath, cert, key, cipher </span><br><span class="line"># (see http://dev.mysql.com/doc/refman/5.1/en/ssl-options.html for the </span><br><span class="line"># command options description).</span><br><span class="line">#</span><br><span class="line"># Use string format as below (space separated parameters, all optional):</span><br><span class="line">#</span><br><span class="line">#mysql-userdb=&quot;host=&lt;host&gt; dbname=&lt;database-name&gt; user=&lt;database-user&gt; password=&lt;database-user-password&gt; port=&lt;port&gt; connect_timeout=&lt;seconds&gt; read_timeout=&lt;seconds&gt;&quot;</span><br><span class="line"></span><br><span class="line"># MongoDB database connection string in the case that we are using MongoDB</span><br><span class="line"># as the user database.</span><br><span class="line"># This database can be used for long-term credential mechanism</span><br><span class="line"># and it can store the secret value for secret-based timed authentication in TURN RESP API. </span><br><span class="line"># Use string format is described at http://hergert.me/docs/mongo-c-driver/mongoc_uri.html</span><br><span class="line">#</span><br><span class="line">#mongo-userdb=&quot;mongodb://[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/[database][?options]]&quot;</span><br><span class="line"></span><br><span class="line"># Redis database connection string in the case that we are using Redis</span><br><span class="line"># as the user database.</span><br><span class="line"># This database can be used for long-term credential mechanism</span><br><span class="line"># and it can store the secret value for secret-based timed authentication in TURN RESP API. </span><br><span class="line"># Use string format as below (space separated parameters, all optional):</span><br><span class="line">#</span><br><span class="line">#redis-userdb=&quot;ip=&lt;ip-address&gt; dbname=&lt;database-number&gt; password=&lt;database-user-password&gt; port=&lt;port&gt; connect_timeout=&lt;seconds&gt;&quot;</span><br><span class="line"></span><br><span class="line"># Redis status and statistics database connection string, if used (default - empty, no Redis stats DB used).</span><br><span class="line"># This database keeps allocations status information, and it can be also used for publishing</span><br><span class="line"># and delivering traffic and allocation event notifications.</span><br><span class="line"># The connection string has the same parameters as redis-userdb connection string. </span><br><span class="line"># Use string format as below (space separated parameters, all optional):</span><br><span class="line">#</span><br><span class="line">#redis-statsdb=&quot;ip=&lt;ip-address&gt; dbname=&lt;database-number&gt; password=&lt;database-user-password&gt; port=&lt;port&gt; connect_timeout=&lt;seconds&gt;&quot;</span><br><span class="line"></span><br><span class="line"># The default realm to be used for the users when no explicit </span><br><span class="line"># origin/realm relationship was found in the database, or if the TURN</span><br><span class="line"># server is not using any database (just the commands-line settings</span><br><span class="line"># and the userdb file). Must be used with long-term credentials </span><br><span class="line"># mechanism or with TURN REST API.</span><br><span class="line">#</span><br><span class="line">#realm=mycompany.org</span><br><span class="line">#realm=qzcool.co</span><br><span class="line"># The flag that sets the origin consistency </span><br><span class="line"># check: across the session, all requests must have the same</span><br><span class="line"># main ORIGIN attribute value (if the ORIGIN was</span><br><span class="line"># initially used by the session).</span><br><span class="line">#</span><br><span class="line">#check-origin-consistency</span><br><span class="line"></span><br><span class="line"># Per-user allocation quota.</span><br><span class="line"># default value is 0 (no quota, unlimited number of sessions per user).</span><br><span class="line"># This option can also be set through the database, for a particular realm.</span><br><span class="line">#</span><br><span class="line">#user-quota=0</span><br><span class="line"></span><br><span class="line"># Total allocation quota.</span><br><span class="line"># default value is 0 (no quota).</span><br><span class="line"># This option can also be set through the database, for a particular realm.</span><br><span class="line">#</span><br><span class="line">#total-quota=0</span><br><span class="line"></span><br><span class="line"># Max bytes-per-second bandwidth a TURN session is allowed to handle</span><br><span class="line"># (input and output network streams are treated separately). Anything above</span><br><span class="line"># that limit will be dropped or temporary suppressed (within</span><br><span class="line"># the available buffer limits).</span><br><span class="line"># This option can also be set through the database, for a particular realm.</span><br><span class="line">#</span><br><span class="line">#max-bps=0</span><br><span class="line"></span><br><span class="line">#</span><br><span class="line"># Maximum server capacity.</span><br><span class="line"># Total bytes-per-second bandwidth the TURN server is allowed to allocate</span><br><span class="line"># for the sessions, combined (input and output network streams are treated separately).</span><br><span class="line">#</span><br><span class="line"># bps-capacity=0</span><br><span class="line"></span><br><span class="line"># Uncomment if no UDP client listener is desired.</span><br><span class="line"># By default UDP client listener is always started.</span><br><span class="line">#</span><br><span class="line">#no-udp</span><br><span class="line"></span><br><span class="line"># Uncomment if no TCP client listener is desired.</span><br><span class="line"># By default TCP client listener is always started.</span><br><span class="line">#</span><br><span class="line">#no-tcp</span><br><span class="line"></span><br><span class="line"># Uncomment if no TLS client listener is desired.</span><br><span class="line"># By default TLS client listener is always started.</span><br><span class="line">#</span><br><span class="line">#no-tls</span><br><span class="line"></span><br><span class="line"># Uncomment if no DTLS client listener is desired.</span><br><span class="line"># By default DTLS client listener is always started.</span><br><span class="line">#</span><br><span class="line">#no-dtls</span><br><span class="line"></span><br><span class="line"># Uncomment if no UDP relay endpoints are allowed.</span><br><span class="line"># By default UDP relay endpoints are enabled (like in RFC 5766).</span><br><span class="line">#</span><br><span class="line">#no-udp-relay</span><br><span class="line"></span><br><span class="line"># Uncomment if no TCP relay endpoints are allowed.</span><br><span class="line"># By default TCP relay endpoints are enabled (like in RFC 6062).</span><br><span class="line">#</span><br><span class="line">#no-tcp-relay</span><br><span class="line"></span><br><span class="line"># Uncomment if extra security is desired,</span><br><span class="line"># with nonce value having limited lifetime.</span><br><span class="line"># By default, the nonce value is unique for a session,</span><br><span class="line"># and has unlimited lifetime. </span><br><span class="line"># Set this option to limit the nonce lifetime. </span><br><span class="line"># It defaults to 600 secs (10 min) if no value is provided. After that delay, </span><br><span class="line"># the client will get 438 error and will have to re-authenticate itself.</span><br><span class="line">#</span><br><span class="line">#stale-nonce=600</span><br><span class="line"></span><br><span class="line"># Uncomment if you want to set the maximum allocation</span><br><span class="line"># time before it has to be refreshed.</span><br><span class="line"># Default is 3600s.</span><br><span class="line">#</span><br><span class="line">#max-allocate-lifetime=3600</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># Uncomment to set the lifetime for the channel.</span><br><span class="line"># Default value is 600 secs (10 minutes).</span><br><span class="line"># This value MUST not be changed for production purposes.</span><br><span class="line">#</span><br><span class="line">#channel-lifetime=600</span><br><span class="line"></span><br><span class="line"># Uncomment to set the permission lifetime.</span><br><span class="line"># Default to 300 secs (5 minutes).</span><br><span class="line"># In production this value MUST not be changed,</span><br><span class="line"># however it can be useful for test purposes.</span><br><span class="line">#</span><br><span class="line">#permission-lifetime=300</span><br><span class="line"></span><br><span class="line"># Certificate file.</span><br><span class="line"># Use an absolute path or path relative to the </span><br><span class="line"># configuration file.</span><br><span class="line">#</span><br><span class="line">#cert=/usr/local/etc/turn_server_cert.pem</span><br><span class="line"></span><br><span class="line"># Private key file.</span><br><span class="line"># Use an absolute path or path relative to the </span><br><span class="line"># configuration file.</span><br><span class="line"># Use PEM file format.</span><br><span class="line">#</span><br><span class="line">#pkey=/usr/local/etc/turn_server_pkey.pem</span><br><span class="line"></span><br><span class="line"># Private key file password, if it is in encoded format.</span><br><span class="line"># This option has no default value.</span><br><span class="line">#</span><br><span class="line">#pkey-pwd=...</span><br><span class="line"></span><br><span class="line"># Allowed OpenSSL cipher list for TLS/DTLS connections.</span><br><span class="line"># Default value is &quot;DEFAULT&quot;.</span><br><span class="line">#</span><br><span class="line">#cipher-list=&quot;DEFAULT&quot;</span><br><span class="line"></span><br><span class="line"># CA file in OpenSSL format. </span><br><span class="line"># Forces TURN server to verify the client SSL certificates.</span><br><span class="line"># By default it is not set: there is no default value and the client</span><br><span class="line"># certificate is not checked.</span><br><span class="line">#</span><br><span class="line"># Example:</span><br><span class="line">#CA-file=/etc/ssh/id_rsa.cert</span><br><span class="line"></span><br><span class="line"># Curve name for EC ciphers, if supported by OpenSSL </span><br><span class="line"># library (TLS and DTLS). The default value is prime256v1, </span><br><span class="line"># if pre-OpenSSL 1.0.2 is used. With OpenSSL 1.0.2+,</span><br><span class="line"># an optimal curve will be automatically calculated, if not defined</span><br><span class="line"># by this option.</span><br><span class="line">#</span><br><span class="line">#ec-curve-name=prime256v1</span><br><span class="line"></span><br><span class="line"># Use 566 bits predefined DH TLS key. Default size of the key is 1066.</span><br><span class="line">#</span><br><span class="line">#dh566</span><br><span class="line"></span><br><span class="line"># Use 2066 bits predefined DH TLS key. Default size of the key is 1066.</span><br><span class="line">#</span><br><span class="line">#dh2066</span><br><span class="line"></span><br><span class="line"># Use custom DH TLS key, stored in PEM format in the file.</span><br><span class="line"># Flags --dh566 and --dh2066 are ignored when the DH key is taken from a file.</span><br><span class="line">#</span><br><span class="line">#dh-file=&lt;DH-PEM-file-name&gt;</span><br><span class="line"></span><br><span class="line"># Flag to prevent stdout log messages.</span><br><span class="line"># By default, all log messages are going to both stdout and to </span><br><span class="line"># the configured log file. With this option everything will be </span><br><span class="line"># going to the configured log only (unless the log file itself is stdout).</span><br><span class="line">#</span><br><span class="line">#no-stdout-log</span><br><span class="line"></span><br><span class="line"># Option to set the log file name.</span><br><span class="line"># By default, the turnserver tries to open a log file in </span><br><span class="line"># /var/log, /var/tmp, /tmp and current directories directories</span><br><span class="line"># (which open operation succeeds first that file will be used).</span><br><span class="line"># With this option you can set the definite log file name.</span><br><span class="line"># The special names are &quot;stdout&quot; and &quot;-&quot; - they will force everything </span><br><span class="line"># to the stdout. Also, the &quot;syslog&quot; name will force everything to</span><br><span class="line"># the system log (syslog). </span><br><span class="line"># In the runtime, the logfile can be reset with the SIGHUP signal </span><br><span class="line"># to the turnserver process.</span><br><span class="line">#</span><br><span class="line">#log-file=/var/tmp/turn.log</span><br><span class="line"></span><br><span class="line"># Option to redirect all log output into system log (syslog).</span><br><span class="line">#</span><br><span class="line">#syslog</span><br><span class="line"></span><br><span class="line"># This flag means that no log file rollover will be used, and the log file</span><br><span class="line"># name will be constructed as-is, without PID and date appendage.</span><br><span class="line"># This option can be used, for example, together with the logrotate tool.</span><br><span class="line">#</span><br><span class="line">#simple-log</span><br><span class="line"></span><br><span class="line"># Option to set the &quot;redirection&quot; mode. The value of this option</span><br><span class="line"># will be the address of the alternate server for UDP &amp; TCP service in form of </span><br><span class="line"># &lt;ip&gt;[:&lt;port&gt;]. The server will send this value in the attribute</span><br><span class="line"># ALTERNATE-SERVER, with error 300, on ALLOCATE request, to the client.</span><br><span class="line"># Client will receive only values with the same address family</span><br><span class="line"># as the client network endpoint address family. </span><br><span class="line"># See RFC 5389 and RFC 5766 for ALTERNATE-SERVER functionality description. </span><br><span class="line"># The client must use the obtained value for subsequent TURN communications.</span><br><span class="line"># If more than one --alternate-server options are provided, then the functionality</span><br><span class="line"># can be more accurately described as &quot;load-balancing&quot; than a mere &quot;redirection&quot;. </span><br><span class="line"># If the port number is omitted, then the default port </span><br><span class="line"># number 3478 for the UDP/TCP protocols will be used.</span><br><span class="line"># Colon (:) characters in IPv6 addresses may conflict with the syntax of </span><br><span class="line"># the option. To alleviate this conflict, literal IPv6 addresses are enclosed </span><br><span class="line"># in square brackets in such resource identifiers, for example: </span><br><span class="line"># [2001:db8:85a3:8d3:1319:8a2e:370:7348]:3478 . </span><br><span class="line"># Multiple alternate servers can be set. They will be used in the</span><br><span class="line"># round-robin manner. All servers in the pool are considered of equal weight and </span><br><span class="line"># the load will be distributed equally. For example, if we have 4 alternate servers, </span><br><span class="line"># then each server will receive 25% of ALLOCATE requests. A alternate TURN server </span><br><span class="line"># address can be used more than one time with the alternate-server option, so this </span><br><span class="line"># can emulate &quot;weighting&quot; of the servers.</span><br><span class="line">#</span><br><span class="line"># Examples: </span><br><span class="line">#alternate-server=1.2.3.4:5678</span><br><span class="line">#alternate-server=11.22.33.44:56789</span><br><span class="line">#alternate-server=5.6.7.8</span><br><span class="line">#alternate-server=[2001:db8:85a3:8d3:1319:8a2e:370:7348]:3478</span><br><span class="line">			</span><br><span class="line"># Option to set alternative server for TLS &amp; DTLS services in form of </span><br><span class="line"># &lt;ip&gt;:&lt;port&gt;. If the port number is omitted, then the default port </span><br><span class="line"># number 5349 for the TLS/DTLS protocols will be used. See the previous </span><br><span class="line"># option for the functionality description.</span><br><span class="line">#</span><br><span class="line"># Examples: </span><br><span class="line">#tls-alternate-server=1.2.3.4:5678</span><br><span class="line">#tls-alternate-server=11.22.33.44:56789</span><br><span class="line">#tls-alternate-server=[2001:db8:85a3:8d3:1319:8a2e:370:7348]:3478</span><br><span class="line"></span><br><span class="line"># Option to suppress TURN functionality, only STUN requests will be processed.</span><br><span class="line"># Run as STUN server only, all TURN requests will be ignored.</span><br><span class="line"># By default, this option is NOT set.</span><br><span class="line">#</span><br><span class="line">#stun-only</span><br><span class="line"></span><br><span class="line"># Option to suppress STUN functionality, only TURN requests will be processed.</span><br><span class="line"># Run as TURN server only, all STUN requests will be ignored.</span><br><span class="line"># By default, this option is NOT set.</span><br><span class="line">#</span><br><span class="line">#no-stun</span><br><span class="line"></span><br><span class="line"># This is the timestamp/username separator symbol (character) in TURN REST API.</span><br><span class="line"># The default value is &apos;:&apos;.</span><br><span class="line"># rest-api-separator=:	</span><br><span class="line"></span><br><span class="line"># Flag that can be used to disallow peers on the loopback addresses (127.x.x.x and ::1).</span><br><span class="line"># This is an extra security measure.</span><br><span class="line">#</span><br><span class="line">#no-loopback-peers</span><br><span class="line"></span><br><span class="line"># Flag that can be used to disallow peers on well-known broadcast addresses (224.0.0.0 and above, and FFXX:*).</span><br><span class="line"># This is an extra security measure.</span><br><span class="line">#</span><br><span class="line">#no-multicast-peers</span><br><span class="line"></span><br><span class="line"># Option to set the max time, in seconds, allowed for full allocation establishment. </span><br><span class="line"># Default is 60 seconds.</span><br><span class="line">#</span><br><span class="line">#max-allocate-timeout=60</span><br><span class="line"></span><br><span class="line"># Option to allow or ban specific ip addresses or ranges of ip addresses. </span><br><span class="line"># If an ip address is specified as both allowed and denied, then the ip address is </span><br><span class="line"># considered to be allowed. This is useful when you wish to ban a range of ip </span><br><span class="line"># addresses, except for a few specific ips within that range.</span><br><span class="line">#</span><br><span class="line"># This can be used when you do not want users of the turn server to be able to access</span><br><span class="line"># machines reachable by the turn server, but would otherwise be unreachable from the </span><br><span class="line"># internet (e.g. when the turn server is sitting behind a NAT)</span><br><span class="line">#</span><br><span class="line"># Examples:</span><br><span class="line"># denied-peer-ip=83.166.64.0-83.166.95.255</span><br><span class="line"># allowed-peer-ip=83.166.68.45</span><br><span class="line"></span><br><span class="line"># File name to store the pid of the process.</span><br><span class="line"># Default is /var/run/turnserver.pid (if superuser account is used) or</span><br><span class="line"># /var/tmp/turnserver.pid .</span><br><span class="line">#</span><br><span class="line">#pidfile=&quot;/var/run/turnserver.pid&quot;</span><br><span class="line"></span><br><span class="line"># Require authentication of the STUN Binding request.</span><br><span class="line"># By default, the clients are allowed anonymous access to the STUN Binding functionality.</span><br><span class="line">#</span><br><span class="line">#secure-stun</span><br><span class="line"></span><br><span class="line"># Mobility with ICE (MICE) specs support.</span><br><span class="line">#</span><br><span class="line">#mobility</span><br><span class="line"></span><br><span class="line"># User name to run the process. After the initialization, the turnserver process</span><br><span class="line"># will make an attempt to change the current user ID to that user.</span><br><span class="line">#</span><br><span class="line">#proc-user=&lt;user-name&gt;</span><br><span class="line"></span><br><span class="line"># Group name to run the process. After the initialization, the turnserver process</span><br><span class="line"># will make an attempt to change the current group ID to that group.</span><br><span class="line">#</span><br><span class="line">#proc-group=&lt;group-name&gt;</span><br><span class="line"></span><br><span class="line"># Turn OFF the CLI support.</span><br><span class="line"># By default it is always ON.</span><br><span class="line"># See also options cli-ip and cli-port.</span><br><span class="line">#</span><br><span class="line">#no-cli</span><br><span class="line"></span><br><span class="line">#Local system IP address to be used for CLI server endpoint. Default value</span><br><span class="line"># is 127.0.0.1.</span><br><span class="line">#</span><br><span class="line">#cli-ip=127.0.0.1</span><br><span class="line"></span><br><span class="line"># CLI server port. Default is 5766.</span><br><span class="line">#</span><br><span class="line">#cli-port=5766</span><br><span class="line"></span><br><span class="line"># CLI access password. Default is empty (no password).</span><br><span class="line"># For the security reasons, it is recommended to use the encrypted</span><br><span class="line"># for of the password (see the -P command in the turnadmin utility).</span><br><span class="line">#</span><br><span class="line"># Secure form for password &apos;qwerty&apos;:</span><br><span class="line">#</span><br><span class="line">#cli-password=$5$79a316b350311570$81df9cfb9af7f5e5a76eada31e7097b663a0670f99a3c07ded3f1c8e59c5658a</span><br><span class="line">#</span><br><span class="line"># Or unsecure form for the same paassword:</span><br><span class="line">#</span><br><span class="line">#cli-password=qwerty</span><br><span class="line"></span><br><span class="line"># Server relay. NON-STANDARD AND DANGEROUS OPTION. </span><br><span class="line"># Only for those applications when we want to run </span><br><span class="line"># server applications on the relay endpoints.</span><br><span class="line"># This option eliminates the IP permissions check on </span><br><span class="line"># the packets incoming to the relay endpoints.</span><br><span class="line">#</span><br><span class="line">#server-relay</span><br><span class="line"></span><br><span class="line"># Maximum number of output sessions in ps CLI command.</span><br><span class="line"># This value can be changed on-the-fly in CLI. The default value is 256.</span><br><span class="line">#</span><br><span class="line">#cli-max-output-sessions</span><br><span class="line"></span><br><span class="line"># Set network engine type for the process (for internal purposes).</span><br><span class="line">#</span><br><span class="line">#ne=[1|2|3]</span><br><span class="line"></span><br><span class="line"># Do not allow an TLS/DTLS version of protocol</span><br><span class="line">#</span><br><span class="line">#no-tlsv1</span><br><span class="line">#no-tlsv1_1</span><br><span class="line">#no-tlsv1_2</span><br></pre></td></tr></table></figure></div></article></div><div id="disqus_thread"></div></div><script>var disqus_shortname = 'fishman-1';
var disqus_identifier = '2021/03/12/turnserver安装/';
var disqus_title = 'turnserver安装';
var disqus_url = 'https://blog.qzcool.xyz/2021/03/12/turnserver安装/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//fishman-1.disqus.com/count.js" async></script></main><footer class="footer-container"><div class="paginator"><a href="/2021/03/15/ubutun安装go/" class="prev">PREV</a><a href="/2020/08/27/certbot-auto错误处理/" class="next">NEXT</a></div><div class="copyright"><p>© 2017 - 2021 <a href="https://blog.qzcool.xyz">marsland</a>,<a href="http://www.beian.miit.gov.cn">备案编号:闽ICP备17012963号-1</a> powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/AngryPowman/hexo-theme-prontera" target="_blank">hexo-theme-prontera</a>.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"fishman",'auto');ga('send','pageview');</script></body></html>