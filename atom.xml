<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>非鱼笔记</title>
  
  <subtitle>随手笔记 一个没技术含量的博客</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.qzcool.com/"/>
  <updated>2020-04-23T03:48:57.861Z</updated>
  <id>https://blog.qzcool.com/</id>
  
  <author>
    <name>fredliu</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Mac设置Anaconda环境变量</title>
    <link href="https://blog.qzcool.com/2020/04/23/Mac%E8%AE%BE%E7%BD%AEAnaconda%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/"/>
    <id>https://blog.qzcool.com/2020/04/23/Mac设置Anaconda环境变量/</id>
    <published>2020-04-23T03:42:04.000Z</published>
    <updated>2020-04-23T03:48:57.861Z</updated>
    
    <content type="html"><![CDATA[<h2 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h2><p>打开mac终端，输入 conda –version</p><p>返回是 conda command not found….命令不存在哇。</p><p>是需要把anaconda的路径配置到系统环境变量中。</p><p>然后是，在mac终端用命令行的形式，添加并激活anaconda的环境变量：</p><p>添加命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">echo &apos;export PATH=&quot;/Users/software/anaconda3/bin:$PATH&quot;&apos; &gt;&gt; ~/.zshrc</div></pre></td></tr></table></figure><p>解释说明：echo是返回字符串的命令，~/目录是家目录，即/Users/&lt;个人用户名&gt;。两个&gt;(英文半角下的大于号)表示不改变后面文件中的原有内容，添加引号中的内容，有这个文件会自动新建。为什么是.zshrc文件呢，因为我的终端打开用的是-zsh工具。</p><p>总之就是，将单引号中的内容写到~/目录下的.ashrc文件中。</p><p>激活命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">source ~/.zshrc</div></pre></td></tr></table></figure></p><p>目录下查看文件，结果如下图所示。（怎么显示隐藏文件：在终端中输命令<br>“<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">defaults write com.apple.finder AppleShowAllFiles -boolean true;killall Finder</div></pre></td></tr></table></figure></p><p>”即可）</p><h2 id="新建虚拟环境"><a href="#新建虚拟环境" class="headerlink" title="新建虚拟环境"></a>新建虚拟环境</h2><p>还想新建一个独立于默认base的编程环境，安装python3.6，和tf1.15.0</p><p>首先，创建命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">conda create -n py36tf1 numpy pandas python=3.6</div></pre></td></tr></table></figure><p>py36tf1是我给新建环境的命名，可改成自己的。numpy pandas是可以同时下载的包。指定python3.6版本。</p><p>然后，激活新环境命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">source activate py36tf1</div></pre></td></tr></table></figure><p>再，可以使用命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">conda env list</div></pre></td></tr></table></figure><p>看看现在有哪些编程环境了。 </p><p>退出当前环境，使用命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">conda deactivate(同时也切换到另一环境)</div></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;设置环境变量&quot;&gt;&lt;a href=&quot;#设置环境变量&quot; class=&quot;headerlink&quot; title=&quot;设置环境变量&quot;&gt;&lt;/a&gt;设置环境变量&lt;/h2&gt;&lt;p&gt;打开mac终端，输入 conda –version&lt;/p&gt;
&lt;p&gt;返回是 conda command not
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>通过树莓派4共享CMCC上网</title>
    <link href="https://blog.qzcool.com/2020/04/17/%E9%80%9A%E8%BF%87%E6%A0%91%E8%8E%93%E6%B4%BE4%E5%85%B1%E4%BA%ABCMCC%E4%B8%8A%E7%BD%91/"/>
    <id>https://blog.qzcool.com/2020/04/17/通过树莓派4共享CMCC上网/</id>
    <published>2020-04-17T09:06:52.000Z</published>
    <updated>2020-04-22T08:05:47.683Z</updated>
    
    <content type="html"><![CDATA[<p>由于没有其他网络，只能通过cmcc上网，想通过共享的方式提供给其他设备上网。手头刚好有个闲置的树莓派4，树莓派装了ubuntu的系统，设置一下有线网口的eth0 IP 192.168.1.2，做一下下nat转发，然后把小米路由器的地址上网设置成静态IP，网关设置树莓派的IP。<br>树莓派设置：</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">ifconfig eth0 192.168.1.2/24</div><div class="line">sysctl net.ipv4.ip_forward=1</div><div class="line">iptables -t nat -A POSTROUTING -s 192.168.1.0/24 -j MASQUERADE</div><div class="line">iptables -t nat -nL</div></pre></td></tr></table></figure><p>路由器设置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">192.168.1.3</div><div class="line">255.255.255.0</div><div class="line">网关：192.168.1.2</div><div class="line">DNS：8.8.8.8</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;由于没有其他网络，只能通过cmcc上网，想通过共享的方式提供给其他设备上网。手头刚好有个闲置的树莓派4，树莓派装了ubuntu的系统，设置一下有线网口的eth0 IP 192.168.1.2，做一下下nat转发，然后把小米路由器的地址上网设置成静态IP，网关设置树莓派的IP
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Docker常用操作命令</title>
    <link href="https://blog.qzcool.com/2020/04/10/Docker%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4/"/>
    <id>https://blog.qzcool.com/2020/04/10/Docker常用操作命令/</id>
    <published>2020-04-10T03:21:18.000Z</published>
    <updated>2020-04-10T07:24:45.095Z</updated>
    
    <content type="html"><![CDATA[<p>1、docker服务自动重启设置</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">systemctl enable docker.service</div></pre></td></tr></table></figure><p>2、docker容器自动启动设置</p><p>在运行docker容器时可以加如下参数来保证每次docker服务重启后容器也自动重启：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker run --restart=always</div></pre></td></tr></table></figure><p>如果已经启动了则可以使用如下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker update --restart=always &lt;CONTAINER ID&gt;</div></pre></td></tr></table></figure><p>3.进入docker 容器 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker exec -it 2a81dcba834f /bin/bash</div></pre></td></tr></table></figure><p>文件拷贝</p><p>容器-&gt;主机<br>docker cp 2a81dcba834f:/usr/local/etc/php/php.ini /Users/fredliu/Documents/PHP</p><p>主机-&gt;容器<br>docker cp /Users/fredliu/Documents/PHP/php.ini 2a81dcba834f:/usr/local/etc/php</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;1、docker服务自动重启设置&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;co
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Nginx泛域名添加https免费SSL证书Lets Encrypt(certbot)安装使用步骤
</title>
    <link href="https://blog.qzcool.com/2020/03/16/Nginx%E6%B3%9B%E5%9F%9F%E5%90%8D%E6%B7%BB%E5%8A%A0https%E5%85%8D%E8%B4%B9SSL%E8%AF%81%E4%B9%A6Lets-Encrypt-certbot-%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8%E6%AD%A5%E9%AA%A4/"/>
    <id>https://blog.qzcool.com/2020/03/16/Nginx泛域名添加https免费SSL证书Lets-Encrypt-certbot-安装使用步骤/</id>
    <published>2020-03-16T08:39:28.000Z</published>
    <updated>2020-03-17T06:53:44.436Z</updated>
    
    <content type="html"><![CDATA[<p>本文介绍如何在 nginx 服务器上使用免费的 Let’s Encrypt 凭证，提供 HTTPS 的安全加密网页。</p><p>本教程的安装环境是:</p><blockquote><p>阿里云Ubuntu 16.04.3 LTS (GNU/Linux 4.4.0-105-generic x86_64)</p></blockquote><p>本人服务器上安装路径：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/home/frp/0.21.0/certbot-auto</div></pre></td></tr></table></figure><a id="more"></a><h2 id="STEP-1"><a href="#STEP-1" class="headerlink" title="STEP 1"></a><code>STEP 1</code></h2><p>从<code>Certbot</code>官方网站下载 <code>certbot-auto</code> 指令，並设定其执行权限：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">wget https://dl.eff.org/certbot-auto</div><div class="line">chmod a+x certbot-auto</div></pre></td></tr></table></figure></p><p><code>certbot-auto</code> 要放在哪裡都可以，建議一開始就找一個適合的地方放好，例如建立一個 <code>/opt/letsencrypt</code> 目錄，把 <code>certbot-auto</code> 放在這裡：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mkdir /opt/letsencrypt</div><div class="line">mv certbot-auto /opt/letsencrypt/</div></pre></td></tr></table></figure></p><h2 id="STEP-2"><a href="#STEP-2" class="headerlink" title="STEP 2"></a><code>STEP 2</code></h2><p>執行 <code>certbot-auto</code>，讓它自動安裝所有相依套件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/opt/letsencrypt/certbot-auto</div></pre></td></tr></table></figure></p><p>在执行安装<code>certbot-auto</code>过程中，阿里云服务器会提示下列错误:</p><blockquote><p>OSError: Command /opt/eff.org/certbot/venv/bin/python2.7 - setuptools pkg_resources pip wheel failed with error code 2  </p></blockquote><p>错误的原因是<code>certbot-auto</code>使用python2.7，但调用了python3的virtualenv，由于系统安装了多个版本的python的virtualenv，那么怎么删除呢？</p><p>解决方法：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">apt-get purge python-virtualenv python3-virtualenv virtualenv</div><div class="line"></div><div class="line">pip install virtualenv</div></pre></td></tr></table></figure><p>然后在执行安装 <code>certbot-auto</code>，终于安装成功！！！</p><h2 id="STEP-3"><a href="#STEP-3" class="headerlink" title="STEP 3"></a><code>STEP 3</code></h2><p>执行<code>certbot-auto</code>生成泛域名证书<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo ./certbot-auto certonly \</div><div class="line">--server https://acme-v02.api.letsencrypt.org/directory \</div><div class="line"> --manual --preferred-challenges dns -d *.qzcool.com</div></pre></td></tr></table></figure></p><p>执行后会要求验证DNS TXT，提示信息如下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">lease deploy a DNS TXT record under the name</div><div class="line">_acme-challenge.qzcool.com with the following value:</div><div class="line"></div><div class="line">QcvPzuizmydLs1AmJF-J9eWOfOW7T89i******</div><div class="line"></div><div class="line">Before continuing, verify the record is deployed.</div></pre></td></tr></table></figure></p><p>泛域名解析需要验证<code>DNS TXT</code>，需要到域名提供商里面设置，子域名设置为<code>_acme-challenge</code>，记录类型选<code>TXT</code>记录，把<code>QcvPzuizmydLs1AmJF-J9eWOfOW7T89i******</code>填在记录值那一栏，<br>配置后可以执行下面命令，看是否正确返回。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">dig _acme-challenge.qzcool.com txt</div></pre></td></tr></table></figure></p><p><code>DNS TXT</code> 配置完后，按回车继续执行。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">- Congratulations! Your certificate and chain have been saved at:</div><div class="line">  /etc/letsencrypt/live/qzcool.com/fullchain.pem</div><div class="line">  Your key file has been saved at:</div><div class="line">  /etc/letsencrypt/live/qzcool.com/privkey.pem</div><div class="line">  Your cert will expire on 2018-12-19. To obtain a new or tweaked</div><div class="line">  version of this certificate in the future, simply run certbot-auto</div><div class="line">  again. To non-interactively renew *all* of your certificates, run</div><div class="line">  &quot;certbot-auto renew&quot;</div></pre></td></tr></table></figure><p>然后获取证书成功，记住证书生成的目录，需要到Nginx里面配置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">/etc/letsencrypt/live/qzcool.com/fullchain.pem</div><div class="line"> /etc/letsencrypt/live/qzcool.com/privkey.pem</div></pre></td></tr></table></figure></p><p><strong>补充一下<code>花生壳</code>的坑</strong></p><blockquote><p>当时为了能内网映射公网，把域名转到<code>花生壳</code>网站，结果遇到了一系列的坑，原来免费的东西，在这里各种要钱，下面列举下：<br>泛域名解析10元/年<br>可添加无限子域名 20元/年<br>TXT记录 10元/年<br>CNAME记录设置 10元/年<br>URL跳转设置 10元/年<br>奉劝大家不要用花生壳的域名服务器，太坑了，使用内网映射服务可以使用免费的frp，我的另外一篇文章frp使用教程可以参考。</p></blockquote><h2 id="STEP-4"><a href="#STEP-4" class="headerlink" title="STEP 4"></a><code>STEP 4</code></h2><p>如果你是第一次使用<code>nginx</code>，可以用<code>certbot</code>帮你自动生成主域名<code>nginx</code>配置，然后在修改相关证书配置。<br>访问<a href="https://certbot.eff.org/，选择你使用的软件和系统，在这里我们选择nginx和Ubuntu" target="_blank" rel="external">https://certbot.eff.org/，选择你使用的软件和系统，在这里我们选择nginx和Ubuntu</a> 16.04.</p><p>安装相关软件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install software-properties-common</div><div class="line">$ sudo add-apt-repository ppa:certbot/certbot</div><div class="line">$ sudo apt-get update</div><div class="line">$ sudo apt-get install python-certbot-nginx</div></pre></td></tr></table></figure><p>生成证书<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ sudo certbot --nginx</div></pre></td></tr></table></figure></p><p>根据提示输入要添加https的域名，最后提示生成成功，访问你的域名，发现能使用https访问。</p><p>使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nginx -t</div></pre></td></tr></table></figure></p><p>查看<code>nginx</code>的配置目录，我服务器上的配置目录<code>/etc/nginx/nginx.conf</code>，修改配置文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vim /etc/nginx/sites-enabled/default</div></pre></td></tr></table></figure></p><p>记得把<code>try_files $uri $uri/ =404;</code>这个注释掉，否则访问会出错，暂时没查这个是什么问题，修改配置如下。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"># /etc/nginx/sites-enabled/default </div><div class="line">server_name *.qzcool.com; # managed by Certbot </div><div class="line">location / &#123;</div><div class="line">                # First attempt to serve request as file, then</div><div class="line">                # as directory, then fall back to displaying a 404. </div><div class="line">                proxy_pass http://172.17.0.1:8080;</div><div class="line">                proxy_set_header    Host            $host:80;</div><div class="line">                proxy_set_header    X-Real-IP       $remote_addr;</div><div class="line">                proxy_set_header    X-Forwarded-For           $proxy_add_x_forwarded_for;</div><div class="line">                proxy_hide_header   X-Powered-By; </div><div class="line">    #  try_files $uri $uri/ =404;</div><div class="line">        &#125; </div><div class="line">    listen [::]:443 ssl ipv6only=on; # managed by Certbot</div><div class="line">    listen 443 ssl; # managed by Certbot</div><div class="line">    ssl_certificate /etc/letsencrypt/live/dhbmw.com/fullchain.pem; # managed by Certbot</div><div class="line">    ssl_certificate_key /etc/letsencrypt/live/dhbmw.com/privkey.pem; # managed by Certbot</div><div class="line">    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot</div><div class="line">    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot </div><div class="line">&#125;</div><div class="line"></div><div class="line">server &#123;</div><div class="line">        listen 80 ;</div><div class="line">        server_name www.qzcool.com;</div><div class="line">        rewrite ^(.*)$ https://$host$1 permanent;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>nginx从新加载配置文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nginx -s reload</div></pre></td></tr></table></figure></p><h2 id="证书定时更新"><a href="#证书定时更新" class="headerlink" title="证书定时更新"></a>证书定时更新</h2><p>Let’s Encrypt 的憑證使用期限只有三個月，在憑證到期前的一個月可以使用 certbot-auto 來更新憑證，在實際更新之前我們可以加入 –dry-run 參數，先進行測試：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/opt/letsencrypt/certbot-auto renew --dry-run</div></pre></td></tr></table></figure></p><p>若測試沒問題，就可以使用正式指令來更新：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/opt/letsencrypt/certbot-auto renew --quiet --no-self-upgrade</div></pre></td></tr></table></figure></p><p>而為了方便起見，可以將這個更新指令寫在 /opt/letsencrypt/renew.sh 指令稿中：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">#!/bin/sh</div><div class="line">/opt/letsencrypt/certbot-auto renew --quiet --no-self-upgrade --post-hook &quot;service nginx reload&quot;</div></pre></td></tr></table></figure></p><p>這裡我又加上一個 –post-hook 的設定，讓憑證更新完後，可以自動重新載入 nginx 伺服器的設定，讓憑證生效。</p><p>接著把這個 /opt/letsencrypt/renew.sh 指令稿寫進 crontab 中，<br>键入<code>crontab  -e</code> 编辑crontab服务文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># m h  dom mon dow   command</div><div class="line">30 2 * * 0 /opt/letsencrypt/renew.sh</div></pre></td></tr></table></figure><p>官方的建議是這個指令可以一天執行兩次，讓伺服器的憑證隨時保持在最新的狀態，這裡我是設定讓伺服器每週日凌晨兩點半進行憑證的檢查與更新，Certbot 只有在憑證到期前一個月才會進行更新，如果憑證尚未到期，就不會更新。</p><p><strong>crontab相关命令</strong>: </p><blockquote><p>查看该用户下的crontab服务是否创建成功， 用<code>crontab  -l</code>命令<br>启动crontab服务 <code>sudo service crond start</code><br>查看服务是否已经运行用 <code>ps -ax | grep cron</code></p></blockquote><h3 id="413-Request-Entity-Too-Large报错处理"><a href="#413-Request-Entity-Too-Large报错处理" class="headerlink" title="413 Request Entity Too Large报错处理"></a>413 Request Entity Too Large报错处理</h3><p>打开nginx主配置文件nginx.conf，一般在<br>vim /etc/nginx/nginx.conf<br>这个位置，找到http{}段并修改以下内容：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">client_max_body_size 2m;</div></pre></td></tr></table></figure></p><p>当中的2m修改成你需要的允许文件大小。</p><p>参考:<br><a href="https://blog.gtwang.org/linux/secure-nginx-with-lets-encrypt-ssl-certificate-on-ubuntu-and-debian/" title="NGINX 使用 Let’s Encrypt 免費 SSL 憑證設定 HTTPS 安全加密網頁教學" target="_blank" rel="external">1.NGINX 使用 Let’s Encrypt 免費 SSL 憑證設定 HTTPS 安全加密網頁教學</a> </p><p><a href="https://certbot.eff.org/lets-encrypt/ubuntuxenial-nginx" target="_blank" rel="external">2.Certbot nginx下配置SSL</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;本文介绍如何在 nginx 服务器上使用免费的 Let’s Encrypt 凭证，提供 HTTPS 的安全加密网页。&lt;/p&gt;
&lt;p&gt;本教程的安装环境是:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;阿里云Ubuntu 16.04.3 LTS (GNU/Linux 4.4.0-105-generic x86_64)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;本人服务器上安装路径：&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;/home/frp/0.21.0/certbot-auto&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>iMac如何通过快捷键连接AirPods耳机</title>
    <link href="https://blog.qzcool.com/2020/01/14/iMac%E5%A6%82%E4%BD%95%E9%80%9A%E8%BF%87%E5%BF%AB%E6%8D%B7%E9%94%AE%E8%BF%9E%E6%8E%A5AirPods%E8%80%B3%E6%9C%BA/"/>
    <id>https://blog.qzcool.com/2020/01/14/iMac如何通过快捷键连接AirPods耳机/</id>
    <published>2020-01-14T03:32:49.000Z</published>
    <updated>2020-01-14T06:38:27.048Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>每次从手机切换耳机到电脑都要手动去点击一下,很麻烦,找到了通过快捷键切换的方法,<br>该方法适用于其他蓝牙耳机</p></blockquote><h2 id="1-安装BluetoothConnector"><a href="#1-安装BluetoothConnector" class="headerlink" title="1 .安装BluetoothConnector:"></a>1 .安装BluetoothConnector:</h2><p><a href="https://github.com/lapfelix/BluetoothConnector" target="_blank" rel="external">BluetoothConnector</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">brew install bluetoothconnector</div></pre></td></tr></table></figure><p>安装成功后打开Terminals输入以下命令,查看蓝牙耳机mac地址:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bluetoothconnector</div></pre></td></tr></table></figure><p>返回本机连接的蓝牙设备列表</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Get the MAC address from the list below (if your device is missing, pair it with your computer first):</div><div class="line">f8-70-c0-7a-eb-bf - alp的AirPods</div><div class="line">......</div></pre></td></tr></table></figure><p>输入下列命令进行测试:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">BluetoothConnector f8-70-c0-7a-eb-bf  --notify</div></pre></td></tr></table></figure><p>执行成功就会弹出通知,如果已经连接则会断开,记得把mac地址改为你自己的蓝牙设备</p><h3 id="2-设置键盘快捷键"><a href="#2-设置键盘快捷键" class="headerlink" title="2.设置键盘快捷键"></a>2.设置键盘快捷键</h3><p>1.打开“启动台”-》“other”-》“自动操作”<br>新建-》快速操作<br>把运行AppleScript拖动到工作路程,输入以下代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">on run &#123;input, parameters&#125;v</div><div class="line">do shell script &quot;/usr/local/bin/BluetoothConnector f8-70-c0-7a-eb-bf --notify&quot;</div><div class="line">return input</div><div class="line">end run</div></pre></td></tr></table></figure></p><p>测试运行成功,保存,名称可以自己命名</p><p>2.设置键盘快捷键<br>打开“系统偏好”-》“键盘”-》“快捷键”-》“服务”-》找到刚才保存的服务,设置你想要的快捷键.至此大功告成</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;每次从手机切换耳机到电脑都要手动去点击一下,很麻烦,找到了通过快捷键切换的方法,&lt;br&gt;该方法适用于其他蓝牙耳机&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;1-安装BluetoothConnector&quot;&gt;&lt;a href=&quot;#1-安装Blu
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>AirPods2使用体验</title>
    <link href="https://blog.qzcool.com/2019/12/24/AirPods2%E4%BD%BF%E7%94%A8%E4%BD%93%E9%AA%8C/"/>
    <id>https://blog.qzcool.com/2019/12/24/AirPods2使用体验/</id>
    <published>2019-12-24T01:55:07.000Z</published>
    <updated>2019-12-24T02:49:16.551Z</updated>
    
    <content type="html"><![CDATA[<p>为情怀买单,双11某东做活动,AirPods2降了300快,就入手了一个,当时AirPods出来的时候就很想买一个,但是价格有点贵而且是刚出来的产品想想等第二代有机会再入手一个,等到今年AirPods终于出二代了,出二代的时候网上流传要出一个Pro版本,等到10月份果然出了一个Pro版的,但是是入耳式的,怕佩戴不舒服就放弃而且价格是AirPods的两倍就决定买AirPods了.<br><img src="/2019/12/24/AirPods2使用体验/Airpods.jpg" alt="This is an image" title="This is an image"></p><a id="more"></a><p>如果你是使用苹果全家桶,使用起来还是很方便的,比起以前使用有线耳机方便太多了.可以方便却换到Mac电脑,AppleTv.因为没有降噪,在嘈杂的环境中还是不要使用耳机了,基本上没法安静的听音乐.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;为情怀买单,双11某东做活动,AirPods2降了300快,就入手了一个,当时AirPods出来的时候就很想买一个,但是价格有点贵而且是刚出来的产品想想等第二代有机会再入手一个,等到今年AirPods终于出二代了,出二代的时候网上流传要出一个Pro版本,等到10月份果然出了一个Pro版的,但是是入耳式的,怕佩戴不舒服就放弃而且价格是AirPods的两倍就决定买AirPods了.&lt;br&gt;&lt;img src=&quot;/2019/12/24/AirPods2使用体验/Airpods.jpg&quot; alt=&quot;This is an image&quot; title=&quot;This is an image&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>PyCharm激活方法</title>
    <link href="https://blog.qzcool.com/2019/12/24/PyCharm%E6%BF%80%E6%B4%BB%E6%96%B9%E6%B3%95/"/>
    <id>https://blog.qzcool.com/2019/12/24/PyCharm激活方法/</id>
    <published>2019-12-24T01:25:36.000Z</published>
    <updated>2020-03-16T08:32:16.163Z</updated>
    
    <content type="html"><![CDATA[<p>修改host<br>MacOS 修改 /etc/hosts</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">10.0.0.0 account.jetbrains.com</div><div class="line">10.0.0.0 www.jetbrains.com</div></pre></td></tr></table></figure><p>注意一定要写一个访问不了的地址,如果写成 0.0.0.0 会提示激活码无法验证</p><p>激活码,到2020年7月<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Y9MXSIF79G-eyJsaWNlbnNlSWQiOiJZOU1YU0lGNzlHIiwibGljZW5zZWVOYW1lIjoiSkJGYW1pbHkgQ2hpbmEiLCJhc3NpZ25lZU5hbWUiOiIiLCJhc3NpZ25lZUVtYWlsIjoiIiwibGljZW5zZVJlc3RyaWN0aW9uIjoiIiwiY2hlY2tDb25jdXJyZW50VXNlIjpmYWxzZSwicHJvZHVjdHMiOlt7ImNvZGUiOiJJSSIsImZhbGxiYWNrRGF0ZSI6IjIwMTktMDctMjYiLCJwYWlkVXBUbyI6IjIwMjAtMDctMjUifSx7ImNvZGUiOiJBQyIsImZhbGxiYWNrRGF0ZSI6IjIwMTktMDctMjYiLCJwYWlkVXBUbyI6IjIwMjAtMDctMjUifSx7ImNvZGUiOiJEUE4iLCJmYWxsYmFja0RhdGUiOiIyMDE5LTA3LTI2IiwicGFpZFVwVG8iOiIyMDIwLTA3LTI1In0seyJjb2RlIjoiUFMiLCJmYWxsYmFja0RhdGUiOiIyMDE5LTA3LTI2IiwicGFpZFVwVG8iOiIyMDIwLTA3LTI1In0seyJjb2RlIjoiR08iLCJmYWxsYmFja0RhdGUiOiIyMDE5LTA3LTI2IiwicGFpZFVwVG8iOiIyMDIwLTA3LTI1In0seyJjb2RlIjoiRE0iLCJmYWxsYmFja0RhdGUiOiIyMDE5LTA3LTI2IiwicGFpZFVwVG8iOiIyMDIwLTA3LTI1In0seyJjb2RlIjoiQ0wiLCJmYWxsYmFja0RhdGUiOiIyMDE5LTA3LTI2IiwicGFpZFVwVG8iOiIyMDIwLTA3LTI1In0seyJjb2RlIjoiUlMwIiwiZmFsbGJhY2tEYXRlIjoiMjAxOS0wNy0yNiIsInBhaWRVcFRvIjoiMjAyMC0wNy0yNSJ9LHsiY29kZSI6IlJDIiwiZmFsbGJhY2tEYXRlIjoiMjAxOS0wNy0yNiIsInBhaWRVcFRvIjoiMjAyMC0wNy0yNSJ9LHsiY29kZSI6IlJEIiwiZmFsbGJhY2tEYXRlIjoiMjAxOS0wNy0yNiIsInBhaWRVcFRvIjoiMjAyMC0wNy0yNSJ9LHsiY29kZSI6IlBDIiwiZmFsbGJhY2tEYXRlIjoiMjAxOS0wNy0yNiIsInBhaWRVcFRvIjoiMjAyMC0wNy0yNSJ9LHsiY29kZSI6IlJNIiwiZmFsbGJhY2tEYXRlIjoiMjAxOS0wNy0yNiIsInBhaWRVcFRvIjoiMjAyMC0wNy0yNSJ9LHsiY29kZSI6IldTIiwiZmFsbGJhY2tEYXRlIjoiMjAxOS0wNy0yNiIsInBhaWRVcFRvIjoiMjAyMC0wNy0yNSJ9LHsiY29kZSI6IkRCIiwiZmFsbGJhY2tEYXRlIjoiMjAxOS0wNy0yNiIsInBhaWRVcFRvIjoiMjAyMC0wNy0yNSJ9LHsiY29kZSI6IkRDIiwiZmFsbGJhY2tEYXRlIjoiMjAxOS0wNy0yNiIsInBhaWRVcFRvIjoiMjAyMC0wNy0yNSJ9LHsiY29kZSI6IlJTVSIsImZhbGxiYWNrRGF0ZSI6IjIwMTktMDctMjYiLCJwYWlkVXBUbyI6IjIwMjAtMDctMjUifV0sImhhc2giOiIxMzgzODYyOS8wIiwiZ3JhY2VQZXJpb2REYXlzIjo3LCJhdXRvUHJvbG9uZ2F0ZWQiOmZhbHNlLCJpc0F1dG9Qcm9sb25nYXRlZCI6ZmFsc2V9-rI4et6OSKLA4gvOzxtyp48SCWtjwsOSQBJittaw6BOVJOwVBz0p31wBWDFSdIogdRPKquk2BAou7N694entEn4/Db3Ol5uotDtUd2MHuo+BBu9QcwIoX3RTrnYLwJfTlEJfRH/3TF3WtkPGQZQQcw/23hsZzdC/WJY6tmvyTijIBScUsvIOxZ+8REbWbkTQx1KliliFyrMua7hit8LThzfffZloHciaHwUP9BjxEjU0qQi+yFacSXjxEZERJT25hZrMN+bqBxcn59/4UJBrITt8YpLIlydt0+6vMSWAMawMzKpeDEDInKy0XomauTIUfxS4sbw/dSyVdSrh+IuOc7g==-MIIElTCCAn2gAwIBAgIBCTANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBMB4XDTE4MTEwMTEyMjk0NloXDTIwMTEwMjEyMjk0NlowaDELMAkGA1UEBhMCQ1oxDjAMBgNVBAgMBU51c2xlMQ8wDQYDVQQHDAZQcmFndWUxGTAXBgNVBAoMEEpldEJyYWlucyBzLnIuby4xHTAbBgNVBAMMFHByb2QzeS1mcm9tLTIwMTgxMTAxMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAxcQkq+zdxlR2mmRYBPzGbUNdMN6OaXiXzxIWtMEkrJMO/5oUfQJbLLuMSMK0QHFmaI37WShyxZcfRCidwXjot4zmNBKnlyHodDij/78TmVqFl8nOeD5+07B8VEaIu7c3E1N+e1doC6wht4I4+IEmtsPAdoaj5WCQVQbrI8KeT8M9VcBIWX7fD0fhexfg3ZRt0xqwMcXGNp3DdJHiO0rCdU+Itv7EmtnSVq9jBG1usMSFvMowR25mju2JcPFp1+I4ZI+FqgR8gyG8oiNDyNEoAbsR3lOpI7grUYSvkB/xVy/VoklPCK2h0f0GJxFjnye8NT1PAywoyl7RmiAVRE/EKwIDAQABo4GZMIGWMAkGA1UdEwQCMAAwHQYDVR0OBBYEFGEpG9oZGcfLMGNBkY7SgHiMGgTcMEgGA1UdIwRBMD+AFKOetkhnQhI2Qb1t4Lm0oFKLl/GzoRykGjAYMRYwFAYDVQQDDA1KZXRQcm9maWxlIENBggkA0myxg7KDeeEwEwYDVR0lBAwwCgYIKwYBBQUHAwEwCwYDVR0PBAQDAgWgMA0GCSqGSIb3DQEBCwUAA4ICAQAF8uc+YJOHHwOFcPzmbjcxNDuGoOUIP+2h1R75Lecswb7ru2LWWSUMtXVKQzChLNPn/72W0k+oI056tgiwuG7M49LXp4zQVlQnFmWU1wwGvVhq5R63Rpjx1zjGUhcXgayu7+9zMUW596Lbomsg8qVve6euqsrFicYkIIuUu4zYPndJwfe0YkS5nY72SHnNdbPhEnN8wcB2Kz+OIG0lih3yz5EqFhld03bGp222ZQCIghCTVL6QBNadGsiN/lWLl4JdR3lJkZzlpFdiHijoVRdWeSWqM4y0t23c92HXKrgppoSV18XMxrWVdoSM3nuMHwxGhFyde05OdDtLpCv+jlWf5REAHHA201pAU6bJSZINyHDUTB+Beo28rRXSwSh3OUIvYwKNVeoBY+KwOJ7WnuTCUq1meE6GkKc4D/cXmgpOyW/1SmBz3XjVIi/zprZ0zf3qH5mkphtg6ksjKgKjmx1cXfZAAX6wcDBNaCL+Ortep1Dh8xDUbqbBVNBL4jbiL3i3xsfNiyJgaZ5sX7i8tmStEpLbPwvHcByuf59qJhV/bZOl8KqJBETCDJcY6O2aqhTUy+9x93ThKs1GKrRPePrWPluud7ttlgtRveit/pcBrnQcXOl1rHq7ByB8CFAxNotRUYL9IF5n3wJOgkPojMy6jetQA5Ogc8Sm7RG6vg1yow==</div></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;修改host&lt;br&gt;MacOS 修改 /etc/hosts&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>ubuntu 和 windows10 配置双网卡路由</title>
    <link href="https://blog.qzcool.com/2019/11/15/ubuntu-%E9%85%8D%E7%BD%AE%E5%8F%8C%E7%BD%91%E5%8D%A1%E8%B7%AF%E7%94%B1/"/>
    <id>https://blog.qzcool.com/2019/11/15/ubuntu-配置双网卡路由/</id>
    <published>2019-11-15T07:09:58.000Z</published>
    <updated>2019-12-24T01:33:47.865Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ubuntu配置双网卡路由"><a href="#ubuntu配置双网卡路由" class="headerlink" title="ubuntu配置双网卡路由"></a>ubuntu配置双网卡路由</h2><p>1.显示当前默认路由</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">route</div><div class="line"></div><div class="line">default         XiaoQiang       0.0.0.0         UG    600    0        0 wlxf48ceb4c4436</div><div class="line">default         _gateway        0.0.0.0         UG    20100  0        0 eno1</div></pre></td></tr></table></figure><p>删除当前默认路由</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo route delete default</div></pre></td></tr></table></figure><p>2.添加内网ip路由</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo route add -net 10.49.28.0 netmask 255.255.255.0 gw 10.49.76.129 eno1</div><div class="line">sudo route add -net 192.168.14.0 netmask 255.255.255.0 gw 10.49.76.129 eno1</div><div class="line">sudo route add -net 192.168.8.0 netmask 255.255.255.0 gw 10.49.76.129 eno1</div></pre></td></tr></table></figure><p>3.添加外网路由</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo route add -net 0.0.0.0 netmask 0.0.0.0 gw 192.168.31.1 wlxf48ceb4c4436</div></pre></td></tr></table></figure><p>删除配置的路由</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo route del -net 192.168.8.0 netmask 255.255.255.0</div><div class="line">sudo route del -net  0.0.0.0 netmask 255.255.255.0</div></pre></td></tr></table></figure><h2 id="windows-配置双网卡路由"><a href="#windows-配置双网卡路由" class="headerlink" title="windows 配置双网卡路由"></a>windows 配置双网卡路由</h2><p>查看网卡信息</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">ipconfig</div><div class="line"></div><div class="line">13 有线网口</div><div class="line"></div><div class="line">25 无线网口</div></pre></td></tr></table></figure><p>1.删除默认路由</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">route delete 0.0.0.0</div></pre></td></tr></table></figure><p>2.添加内网路由</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">route  -p add   192.168.14.0 mask 255.255.255.0   10.49.76.129  if 13</div><div class="line">route  -p add   10.49.28.0 mask 255.255.255.0   10.49.76.129  if 13</div></pre></td></tr></table></figure><p>3.添加外网路由</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">route -p add 0.0.0.0 mask 0.0.0.0 192.168.31.1 if 25</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;ubuntu配置双网卡路由&quot;&gt;&lt;a href=&quot;#ubuntu配置双网卡路由&quot; class=&quot;headerlink&quot; title=&quot;ubuntu配置双网卡路由&quot;&gt;&lt;/a&gt;ubuntu配置双网卡路由&lt;/h2&gt;&lt;p&gt;1.显示当前默认路由&lt;/p&gt;
&lt;figure cla
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>ubuntu 18.04 - dlink dwa171 (revC)安装驱动</title>
    <link href="https://blog.qzcool.com/2019/11/15/ubuntu-18-04-dlink-dwa171-revC-%E5%AE%89%E8%A3%85%E9%A9%B1%E5%8A%A8/"/>
    <id>https://blog.qzcool.com/2019/11/15/ubuntu-18-04-dlink-dwa171-revC-安装驱动/</id>
    <published>2019-11-15T02:30:01.000Z</published>
    <updated>2019-11-15T07:42:14.941Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">sudo apt update</div><div class="line">sudo apt install build-essential git dkms</div><div class="line">git clone https://github.com/brektrou/rtl8821CU.git</div><div class="line">cd rtl8821CU</div><div class="line">chmod +x dkms-install.sh</div><div class="line">sudo ./dkms-install.sh</div><div class="line"></div><div class="line">sudo modprobe 8821cu</div></pre></td></tr></table></figure><p>Problem of not being able to use D-Link AC600 (DWA 171 Revision C) as WiFi USB as it is recognised as USB Flush Memory (storing Windows driver files). Note that this is NOT about DWA 171 revision A.</p><h2 id="Cause"><a href="#Cause" class="headerlink" title="Cause"></a>Cause</h2><p>As per Problem with Wi-Fi USB Adapter D-Link DWA-171:</p><p>A DWA-171 Revision C became available in 2018, and is marked as such on the dongle label. The revA is a straightforward wifi dongle – with the correct Linux driver installed, plug in the dongle and you’re off to the races. But the revC first enumerates as USB Storage, and as such contains a Setup.exe to install Windows drivers.</p><p>lsusb shows the DWA 171 Revision C as Realtek flash drive.</p><p>Bus 003 Device 005: ID 0bda:1a2b Realtek Semiconductor Corp.    &lt;—– USB Flash memory mode of DWA 171</p><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>As per Automatically use usb_modeswitch for Wifi USB, run usb_modeswitch as below (after , and confirm with lsusb and ip commands.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">$ lsusb</div><div class="line">...</div><div class="line">Bus 003 Device 005: ID 0bda:1a2b Realtek Semiconductor Corp.</div><div class="line"></div><div class="line">$ /usr/sbin/usb_modeswitch -K -v 0bda -p 1a2b</div><div class="line">$ lsusb</div><div class="line">...</div><div class="line">Bus 003 Device 006: ID 2001:331d D-Link Corp.  &lt;--- Changed from Realtek</div><div class="line"></div><div class="line">$ ip link show</div><div class="line">...</div></pre></td></tr></table></figure><p>3: wlx58d56e015102: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc mq state </p><p>UP mode DORMANT group default qlen 1000<br>    link/ether 58:d5:6e:01:51:02 brd ff:ff:ff:ff:ff:ff<br>Explanation<br>The REFERENCE document included in the usb-modeswitch-data package says -K means ejecting the device.</p><p>StandardEject &lt;0/1&gt; -K<br>Sends a specific bulk message sequence representing the SCSI commands “ALLOW MEDIUM REMOVAL” and “START STOP UNIT”, basically an eject action. Many modems are using this for mode switching. Can be combined with one additional ‘MessageContent’</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>To use the D-Link AC 600 (DWA 171 Revision C) as USB WiFi.</p><p>Compile, install, and load the 8821cu module (NOT 8821au).<br>Verify the module is loaded with lsmod.<br>Eject the USB flash drive with usb_modeswitch -K.<br>Verify the USB WiFi D-Link is displayed with lsusb.</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><p><a href="http://www.draisberghof.de/usb_modeswitch/" target="_blank" rel="external">USB_ModeSwitch - Handling Mode-Switching USB Devices on Linux</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/di
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>charles系列破解激活办法（最高charles4.2都可以激活）</title>
    <link href="https://blog.qzcool.com/2019/11/12/charles%E7%B3%BB%E5%88%97%E7%A0%B4%E8%A7%A3%E6%BF%80%E6%B4%BB%E5%8A%9E%E6%B3%95(%E6%9C%80%E9%AB%98charles4-2%E9%83%BD%E5%8F%AF%E4%BB%A5%E6%BF%80%E6%B4%BB)/"/>
    <id>https://blog.qzcool.com/2019/11/12/charles系列破解激活办法(最高charles4-2都可以激活)/</id>
    <published>2019-11-12T13:52:40.000Z</published>
    <updated>2019-11-15T08:20:50.442Z</updated>
    
    <content type="html"><![CDATA[<p>// Charles Proxy License<br>// 适用于Charles任意版本的注册码，谁还会想要使用破解版呢。<br>// Charles 4.2目前是最新版，可用。<br>Registered Name: <a href="https://zhile.io" target="_blank" rel="external">https://zhile.io</a><br>License Key: 48891cf209c6d32bf4</p><p>本方法通杀charlse系列激活问题。</p><p>————————————————<br>版权声明：本文为CSDN博主「花2不谢」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/qq_25821067/article/details/79848589" target="_blank" rel="external">https://blog.csdn.net/qq_25821067/article/details/79848589</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;// Charles Proxy License&lt;br&gt;// 适用于Charles任意版本的注册码，谁还会想要使用破解版呢。&lt;br&gt;// Charles 4.2目前是最新版，可用。&lt;br&gt;Registered Name: &lt;a href=&quot;https://zhile.io&quot;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Hexo博客搭建之在文章中插入图片 </title>
    <link href="https://blog.qzcool.com/2019/10/31/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E4%B9%8B%E5%9C%A8%E6%96%87%E7%AB%A0%E4%B8%AD%E6%8F%92%E5%85%A5%E5%9B%BE%E7%89%87/"/>
    <id>https://blog.qzcool.com/2019/10/31/Hexo博客搭建之在文章中插入图片/</id>
    <published>2019-10-31T08:24:49.000Z</published>
    <updated>2019-10-31T08:27:29.007Z</updated>
    
    <content type="html"><![CDATA[<p>在写文章时，常常有配图说明的需求。Hexo有多种图片插入方式，可以将图片存放在本地引用或者将图片放在CDN上引用。</p><p>本地引用<br>绝对路径<br>当Hexo项目中只用到少量图片时，可以将图片统一放在source/images文件夹中，通过markdown语法访问它们。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">source/images/image.jpg</div><div class="line"></div><div class="line">![](/images/image.jpg)</div></pre></td></tr></table></figure></p><p>图片既可以在首页内容中访问到，也可以在文章正文中访问到。</p><p>相对路径<br>图片除了可以放在统一的images文件夹中，还可以放在文章自己的目录中。文章的目录可以通过配置_config.yml来生成。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">_config.yml</div><div class="line"></div><div class="line">post_asset_folder: true</div></pre></td></tr></table></figure></p><p>将_config.yml文件中的配置项post_asset_folder设为true后，执行命令$ hexo new post_name，在source/_posts中会生成文章post_name.md和同名文件夹post_name。将图片资源放在post_name中，文章就可以使用相对路径引用图片资源了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">_posts/post_name/image.jpg</div><div class="line"></div><div class="line">![](image.jpg)</div></pre></td></tr></table></figure></p><p>上述是markdown的引用方式，图片只能在文章中显示，但无法在首页中正常显示。</p><p>如果希望图片在文章和首页中同时显示，可以使用标签插件语法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">_posts/post_name/image.jpg</div><div class="line"></div><div class="line">&#123;% asset_img image.jpg This is an image %&#125;</div></pre></td></tr></table></figure></p><p>CDN引用<br>除了在本地存储图片，还可以将图片上传到一些免费的CDN服务中。比如Cloudinary提供的图片CDN服务，在Cloudinary中上传图片后，会生成对应的url地址，将地址直接拿来引用即可。</p><p>文章来源:<a href="https://yanyinhong.github.io/2017/05/02/How-to-insert-image-in-hexo-post/" target="_blank" rel="external">https://yanyinhong.github.io/2017/05/02/How-to-insert-image-in-hexo-post/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;在写文章时，常常有配图说明的需求。Hexo有多种图片插入方式，可以将图片存放在本地引用或者将图片放在CDN上引用。&lt;/p&gt;
&lt;p&gt;本地引用&lt;br&gt;绝对路径&lt;br&gt;当Hexo项目中只用到少量图片时，可以将图片统一放在source/images文件夹中，通过markdown语法
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>大疆发布了Mavic Mini</title>
    <link href="https://blog.qzcool.com/2019/10/31/%E5%A4%A7%E7%96%86%E5%8F%91%E5%B8%83%E4%BA%86Mavic-Mini/"/>
    <id>https://blog.qzcool.com/2019/10/31/大疆发布了Mavic-Mini/</id>
    <published>2019-10-31T01:28:26.000Z</published>
    <updated>2019-10-31T01:37:44.642Z</updated>
    
    <content type="html"><![CDATA[<p>大疆昨天发布了最新的Mavic,把他定义为可以每天飞行的相机.质量249克,30分钟最长飞行时间,售价仅2699人民币,价格相当亲民.</p><img src="/2019/10/31/大疆发布了Mavic-Mini/mavicmini.jpg" alt="This is an image" title="This is an image"><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;大疆昨天发布了最新的Mavic,把他定义为可以每天飞行的相机.质量249克,30分钟最长飞行时间,售价仅2699人民币,价格相当亲民.&lt;/p&gt;
&lt;img src=&quot;/2019/10/31/大疆发布了Mavic-Mini/mavicmini.jpg&quot; alt=&quot;This is an image&quot; title=&quot;This is an image&quot;&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>苹果发布新耳机AirPods Pro</title>
    <link href="https://blog.qzcool.com/2019/10/30/%E8%8B%B9%E6%9E%9C%E5%8F%91%E5%B8%83%E6%96%B0%E8%80%B3%E6%9C%BAAirPods-Pro/"/>
    <id>https://blog.qzcool.com/2019/10/30/苹果发布新耳机AirPods-Pro/</id>
    <published>2019-10-30T08:23:42.000Z</published>
    <updated>2019-10-31T01:39:00.254Z</updated>
    
    <content type="html"><![CDATA[<p>苹果昨晚直接在官网发布了 AirPods Pro,<br>一款带有主动降噪功能的真无线入耳耳机。中国区售价 1999 元.</p><img src="/2019/10/30/苹果发布新耳机AirPods-Pro/airpodsPro.jpg" alt="This is an image" title="This is an image"><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;苹果昨晚直接在官网发布了 AirPods Pro,&lt;br&gt;一款带有主动降噪功能的真无线入耳耳机。中国区售价 1999 元.&lt;/p&gt;
&lt;img src=&quot;/2019/10/30/苹果发布新耳机AirPods-Pro/airpodsPro.jpg&quot; alt=&quot;This is an image&quot; title=&quot;This is an image&quot;&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>ssh/sftp无需输入密码设置</title>
    <link href="https://blog.qzcool.com/2019/10/30/ssh-sftp%E6%97%A0%E9%9C%80%E8%BE%93%E5%85%A5%E5%AF%86%E7%A0%81%E8%AE%BE%E7%BD%AE/"/>
    <id>https://blog.qzcool.com/2019/10/30/ssh-sftp无需输入密码设置/</id>
    <published>2019-10-30T07:47:06.000Z</published>
    <updated>2019-10-30T07:48:03.151Z</updated>
    
    <content type="html"><![CDATA[<p>Linux系统有一个钥匙环(keyring)的管理程序．钥匙环受到用户登录密码的保护．当你登录Linux系统时，会自动解开钥匙环的密码，从而可访问钥匙环．SSH的密钥和公钥也存储在钥匙环．所以初次使用SSH密钥登录远程Linux服务器时需要输入一次SSH密钥的密码．而将来使用SSH密钥登录时不再输入密码。Ubuntu的钥匙环程序是seahorse．<br>SSH密钥就好比是你的身份证明．远程Linux服务器用你生成的SSH公钥来加密一条消息，而只有你的SSH密钥可以解开这条消息．所以其他人如果没有你的SSH密钥，是无法解开加密消息的，从而也就无法登录你的Linux服务器．</p><p>检查一下你有没有 ssh key<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ls ~/.ssh</div></pre></td></tr></table></figure></p><p>如果有包含下面这两个文件，则说明你有ssh key<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">id_rsa id_rsa.pub</div></pre></td></tr></table></figure></p><a id="more"></a><p>有 .pub 后缀的是公钥，没有的是私钥。公钥可以让别人知道，私钥就像你的密码一样，不要给别人。</p><p>如果没有 ssh key，可以用 ssh-keygen -t rsa 命令 来生成<br>然后一路回车，就可以生成 ssh key 了</p><p>然后，再一个命令，把公钥上传到服务器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh-copy-id username@remote-server</div></pre></td></tr></table></figure></p><p>这样公钥就会上传到服务器的 ~/.ssh/authorized_keys 位置中<br>大功告成，以后在本机不用输入密码就可以用ssh连接服务器了</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Linux系统有一个钥匙环(keyring)的管理程序．钥匙环受到用户登录密码的保护．当你登录Linux系统时，会自动解开钥匙环的密码，从而可访问钥匙环．SSH的密钥和公钥也存储在钥匙环．所以初次使用SSH密钥登录远程Linux服务器时需要输入一次SSH密钥的密码．而将来使用SSH密钥登录时不再输入密码。Ubuntu的钥匙环程序是seahorse．&lt;br&gt;SSH密钥就好比是你的身份证明．远程Linux服务器用你生成的SSH公钥来加密一条消息，而只有你的SSH密钥可以解开这条消息．所以其他人如果没有你的SSH密钥，是无法解开加密消息的，从而也就无法登录你的Linux服务器．&lt;/p&gt;
&lt;p&gt;检查一下你有没有 ssh key&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;ls ~/.ssh&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;如果有包含下面这两个文件，则说明你有ssh key&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;id_rsa id_rsa.pub&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Git配置全局账号密码避免每次拉取、提交输入账号密码</title>
    <link href="https://blog.qzcool.com/2019/10/30/Git%E9%85%8D%E7%BD%AE%E5%85%A8%E5%B1%80%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81%E9%81%BF%E5%85%8D%E6%AF%8F%E6%AC%A1%E6%8B%89%E5%8F%96%E3%80%81%E6%8F%90%E4%BA%A4%E8%BE%93%E5%85%A5%E8%B4%A6%E5%8F%B7%E5%AF%86%E7%A0%81/"/>
    <id>https://blog.qzcool.com/2019/10/30/Git配置全局账号密码避免每次拉取、提交输入账号密码/</id>
    <published>2019-10-30T07:29:47.000Z</published>
    <updated>2019-10-30T07:46:21.222Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>前言</p></blockquote><pre><code>在大家使用github的过程中，一定会碰到这样一种情况，就是每次要push 和pull时总是要输入github的账号和密码，这样不仅浪费了大量的时间且降低了工作效率。在此背景下，本文在网上找了两种方法来避免这种状况，这些成果也是先人提出来的，在此只是做个总结。</code></pre><h2 id="1-方法一"><a href="#1-方法一" class="headerlink" title="1.方法一"></a>1.方法一</h2><h3 id="1-1-创建文件存储GIT用户名和密码"><a href="#1-1-创建文件存储GIT用户名和密码" class="headerlink" title="1.1 创建文件存储GIT用户名和密码"></a>1.1 创建文件存储GIT用户名和密码</h3><p>在%HOME%目录中，一般为C:\users\Administrator，也可以是你自己创建的系统用户名目录，反正都在C:\users\中。文件名为.git-credentials,由于在Window中不允许直接创建以”.”开头的文件，所以需要借助git bash进行，打开git bash客户端，进行%HOME%目录，然后用touch创建文件 .git-credentials, 用vim编辑此文件，输入内容格式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">touch .git-credentials</div><div class="line"></div><div class="line">vim .git-credentials</div><div class="line"></div><div class="line">https://&#123;username&#125;:&#123;password&#125;@git.coding.net       //我这里用的是coding.net域名</div></pre></td></tr></table></figure></p><p>针对 SSH 协议的方式， 配置SSH 公钥，使用 SSH 协议操作，具体见 SSH 公钥配置</p><a id="more"></a><p>对于 Https 协议</p><p>首先在全局配置保存你的密码， ~/.git-credentials （没有就创建）内添加 https://{username}:<a href="mailto:{passwd}@git.coding.net" target="_blank" rel="external">{passwd}@git.coding.net</a><br>然后配置 Git 命令存储认证，</p><h3 id="1-2-添加Git-Config-内容"><a href="#1-2-添加Git-Config-内容" class="headerlink" title="1.2 添加Git Config 内容"></a>1.2 添加Git Config 内容</h3><p>进入git bash终端， 输入如下命令：</p><p>git config –global credential.helper store</p><p>执行完后查看%HOME%目录下的.gitconfig文件，会多了一项：</p><pre><code>[credential]    helper = store</code></pre><p>重新开启git bash会发现git push时不用再输入用户名和密码</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;前言&lt;/p&gt;
&lt;/blockquote&gt;
&lt;pre&gt;&lt;code&gt;在大家使用github的过程中，一定会碰到这样一种情况，就是每次要push 和pull时总是要输入github的账号和密码，这样不仅浪费了大量的时间且降低了工作效率。在此背景下，本文在网上找了两种方法来避免这种状况，这些成果也是先人提出来的，在此只是做个总结。
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&quot;1-方法一&quot;&gt;&lt;a href=&quot;#1-方法一&quot; class=&quot;headerlink&quot; title=&quot;1.方法一&quot;&gt;&lt;/a&gt;1.方法一&lt;/h2&gt;&lt;h3 id=&quot;1-1-创建文件存储GIT用户名和密码&quot;&gt;&lt;a href=&quot;#1-1-创建文件存储GIT用户名和密码&quot; class=&quot;headerlink&quot; title=&quot;1.1 创建文件存储GIT用户名和密码&quot;&gt;&lt;/a&gt;1.1 创建文件存储GIT用户名和密码&lt;/h3&gt;&lt;p&gt;在%HOME%目录中，一般为C:\users\Administrator，也可以是你自己创建的系统用户名目录，反正都在C:\users\中。文件名为.git-credentials,由于在Window中不允许直接创建以”.”开头的文件，所以需要借助git bash进行，打开git bash客户端，进行%HOME%目录，然后用touch创建文件 .git-credentials, 用vim编辑此文件，输入内容格式：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;4&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;5&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;touch .git-credentials&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;vim .git-credentials&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;https://&amp;#123;username&amp;#125;:&amp;#123;password&amp;#125;@git.coding.net       //我这里用的是coding.net域名&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;针对 SSH 协议的方式， 配置SSH 公钥，使用 SSH 协议操作，具体见 SSH 公钥配置&lt;/p&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Mac下制作加密的zip压缩包</title>
    <link href="https://blog.qzcool.com/2019/10/30/Mac%E4%B8%8B%E5%88%B6%E4%BD%9C%E5%8A%A0%E5%AF%86%E7%9A%84zip%E5%8E%8B%E7%BC%A9%E5%8C%85/"/>
    <id>https://blog.qzcool.com/2019/10/30/Mac下制作加密的zip压缩包/</id>
    <published>2019-10-30T07:00:00.000Z</published>
    <updated>2019-10-30T07:46:21.222Z</updated>
    
    <content type="html"><![CDATA[<p>Mac下创建加密的zip文件，无需第三方软件，直接在终端中 敲入几行命令就能搞定。<br>方法一： </p><p>选择压缩包保存路径：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ cd yourPath</div></pre></td></tr></table></figure></p><h3 id="1-只压缩单个文件"><a href="#1-只压缩单个文件" class="headerlink" title="1. 只压缩单个文件"></a>1. 只压缩单个文件</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">zip -e yourZipFileName.zip yourSourceFile</div></pre></td></tr></table></figure><p>回车 ，分别输入密码（回车）和确认密码（回车）就OK了。</p><h3 id="2-压缩文件夹"><a href="#2-压缩文件夹" class="headerlink" title="2. 压缩文件夹"></a>2. 压缩文件夹</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">zip -e -r yourZipFileName.zip yourSourceFileDir</div></pre></td></tr></table></figure><p>其余同上。(-r 表示将文件夹中所有的文件进行压缩)</p><h3 id="方法二：可以通过一行命令搞定"><a href="#方法二：可以通过一行命令搞定" class="headerlink" title="方法二：可以通过一行命令搞定"></a>方法二：可以通过一行命令搞定</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">zip -r -P yourPassword yourZipFileName.zip yourSourceFileDir</div></pre></td></tr></table></figure><p>回车就OK了，但是这种方法只输入一次密码，万一压缩时输错密码，再想打开可就悲剧了。</p><blockquote><p>注意: -P 需要大写</p></blockquote><blockquote><p>Encryption:<br>  -e        use standard (weak) PKZip 2.0 encryption, prompt for password<br>  -P pswd   use standard encryption, password is pswd<br> <a id="more"></a><br>————————————————<br>版权声明：本文为CSDN博主「yooozooo」的原创文章，遵循 CC 4.0 BY-SA 版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/yooozooo/article/details/42496735" target="_blank" rel="external">https://blog.csdn.net/yooozooo/article/details/42496735</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Mac下创建加密的zip文件，无需第三方软件，直接在终端中 敲入几行命令就能搞定。&lt;br&gt;方法一： &lt;/p&gt;
&lt;p&gt;选择压缩包保存路径：&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ cd yourPath&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;1-只压缩单个文件&quot;&gt;&lt;a href=&quot;#1-只压缩单个文件&quot; class=&quot;headerlink&quot; title=&quot;1. 只压缩单个文件&quot;&gt;&lt;/a&gt;1. 只压缩单个文件&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;zip -e yourZipFileName.zip yourSourceFile&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;回车 ，分别输入密码（回车）和确认密码（回车）就OK了。&lt;/p&gt;
&lt;h3 id=&quot;2-压缩文件夹&quot;&gt;&lt;a href=&quot;#2-压缩文件夹&quot; class=&quot;headerlink&quot; title=&quot;2. 压缩文件夹&quot;&gt;&lt;/a&gt;2. 压缩文件夹&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;zip -e -r yourZipFileName.zip yourSourceFileDir&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;其余同上。(-r 表示将文件夹中所有的文件进行压缩)&lt;/p&gt;
&lt;h3 id=&quot;方法二：可以通过一行命令搞定&quot;&gt;&lt;a href=&quot;#方法二：可以通过一行命令搞定&quot; class=&quot;headerlink&quot; title=&quot;方法二：可以通过一行命令搞定&quot;&gt;&lt;/a&gt;方法二：可以通过一行命令搞定&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;zip -r -P yourPassword yourZipFileName.zip yourSourceFileDir&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;回车就OK了，但是这种方法只输入一次密码，万一压缩时输错密码，再想打开可就悲剧了。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;注意: -P 需要大写&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Encryption:&lt;br&gt;  -e        use standard (weak) PKZip 2.0 encryption, prompt for password&lt;br&gt;  -P pswd   use standard encryption, password is pswd&lt;br&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>hexo 博客同步管理及迁移</title>
    <link href="https://blog.qzcool.com/2019/10/30/hexo-%E5%8D%9A%E5%AE%A2%E5%90%8C%E6%AD%A5%E7%AE%A1%E7%90%86%E5%8F%8A%E8%BF%81%E7%A7%BB/"/>
    <id>https://blog.qzcool.com/2019/10/30/hexo-博客同步管理及迁移/</id>
    <published>2019-10-30T05:20:37.000Z</published>
    <updated>2020-03-16T08:40:04.142Z</updated>
    
    <content type="html"><![CDATA[<p>背景：一台电脑上已有一个在用的博客，又新用了一台电脑，实现原电脑和新电脑都可以提交更新博客，实现同步或者说博客的版本管理。</p><p>步骤：</p><ol><li><p>在原电脑上操作，给 username.github.io 博客仓库创建hexo分支，并设为默认分支。（具体可参考这篇文章的操作，有图示）</p></li><li><p>如果未给你的 github 账号添加过当前电脑生成的 ssh key，需要创建 ssh key 并添加到 github 账号上。（如何创建和添加 github help 就有）</p></li><li><p>随便一个目录下，命令行执行 git clone <a href="mailto:git@github.com" target="_blank" rel="external">git@github.com</a>:username/username.github.io.git 把仓库 clone 到本地。</p></li><li><p>显示所有隐藏文件和文件夹，进入刚才 clone 到本地的仓库，删掉除了 .git 文件夹以外的所有内容。</p></li><li><p>命令行 cd 到 clone 的仓库，git add -A ，git commit -m “–”，git push origin hexo，把刚才删除操作引起的本地仓库变化更新到远程，此时刷新下 github 端博客hexo分支，应该已经被清空了。</p></li><li><p>将上述 .git 文件夹复制到本机本地博客根目录下（即含有 themes、source 等文件夹的那个目录），现在可以把上述 clone 的本地仓库删掉了，因为它已经没有用了，本机博客目录已经变成可以和 hexo 分支相连的仓库了。</p></li></ol><a id="more"></a><ol start="7"><li><p>将博客目录下 themes 文件夹下每个主题文件夹里面的 .git .gitignore 删掉。 </p></li><li><p>cd 到博客目录，git add -A ，git commit -m “–”，git push origin hexo，将博客目录下所有文件更新到 hexo 分支。如果上一步没有删掉 .git .gitignore，主题文件夹下内容将传不上去。至此原电脑上的操作结束。</p></li><li><p>在新电脑上操作，先把新电脑上环境安装好，node.js、git、hexo，ssh key 也创建和添加好。</p></li></ol><p>10.选好博客安装的目录， git clone <a href="mailto:git@github.com" target="_blank" rel="external">git@github.com</a>:username/username.github.io.git 。</p><ol start="11"><li>cd 到博客目录，npm install、hexo g &amp;&amp; hexo s，安装依赖，生成和启动博客服务。正常的话，浏览器打开 localhost:4000 可以看到博客了。至此新电脑操作完毕。</li></ol><p>12以后无论在哪台电脑上，更新以及提交博客，依次执行，git pull，git add -A ，git commit -m “–”，git push origin hexo，hexo clean &amp;&amp; hexo g &amp;&amp; hexo d 即可。</p><ol start="12"><li>你可以执行下列命令来创建一篇新文章或者新的页面。<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new [layout] &lt;title&gt;</div></pre></td></tr></table></figure></li></ol><p>作者：容与<br>链接：<a href="https://www.zhihu.com/question/21193762/answer/369050999" target="_blank" rel="external">https://www.zhihu.com/question/21193762/answer/369050999</a><br>来源：知乎<br>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;背景：一台电脑上已有一个在用的博客，又新用了一台电脑，实现原电脑和新电脑都可以提交更新博客，实现同步或者说博客的版本管理。&lt;/p&gt;
&lt;p&gt;步骤：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;在原电脑上操作，给 username.github.io 博客仓库创建hexo分支，并设为默认分支。（具体可参考这篇文章的操作，有图示）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;如果未给你的 github 账号添加过当前电脑生成的 ssh key，需要创建 ssh key 并添加到 github 账号上。（如何创建和添加 github help 就有）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;随便一个目录下，命令行执行 git clone &lt;a href=&quot;mailto:git@github.com&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;git@github.com&lt;/a&gt;:username/username.github.io.git 把仓库 clone 到本地。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;显示所有隐藏文件和文件夹，进入刚才 clone 到本地的仓库，删掉除了 .git 文件夹以外的所有内容。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;命令行 cd 到 clone 的仓库，git add -A ，git commit -m “–”，git push origin hexo，把刚才删除操作引起的本地仓库变化更新到远程，此时刷新下 github 端博客hexo分支，应该已经被清空了。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;将上述 .git 文件夹复制到本机本地博客根目录下（即含有 themes、source 等文件夹的那个目录），现在可以把上述 clone 的本地仓库删掉了，因为它已经没有用了，本机博客目录已经变成可以和 hexo 分支相连的仓库了。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>经济学人在线阅读</title>
    <link href="https://blog.qzcool.com/2019/10/30/%E5%BC%80%E5%8F%91%E4%BA%86%E4%B8%80%E4%B8%AA%E8%8B%B1%E8%AF%AD%E9%98%85%E8%AF%BB%E5%B0%8F%E7%AB%99/"/>
    <id>https://blog.qzcool.com/2019/10/30/开发了一个英语阅读小站/</id>
    <published>2019-10-30T02:07:02.000Z</published>
    <updated>2019-10-30T08:53:30.072Z</updated>
    
    <content type="html"><![CDATA[<p>觉得有必要提高一下英语水平,找了很多方法,发现阅读外文是比较有趣方法,找到了经济学人期刊,刚好前段时间学Python,为了方便阅读同时练手一下自己建了个小站,如果你也喜欢经济学人可以点击 (<a href="https://qzcool.xyz" target="_blank" rel="external">https://qzcool.xyz</a>) 注册阅读,站点免费开放.</p><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;觉得有必要提高一下英语水平,找了很多方法,发现阅读外文是比较有趣方法,找到了经济学人期刊,刚好前段时间学Python,为了方便阅读同时练手一下自己建了个小站,如果你也喜欢经济学人可以点击 (&lt;a href=&quot;https://qzcool.xyz&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://qzcool.xyz&lt;/a&gt;) 注册阅读,站点免费开放.&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="日记" scheme="https://blog.qzcool.com/tags/%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>换了Prontera风格</title>
    <link href="https://blog.qzcool.com/2019/10/30/%E6%8D%A2%E4%BA%86Prontera%E9%A3%8E%E6%A0%BC/"/>
    <id>https://blog.qzcool.com/2019/10/30/换了Prontera风格/</id>
    <published>2019-10-30T01:54:36.000Z</published>
    <updated>2019-10-30T02:05:11.188Z</updated>
    
    <content type="html"><![CDATA[<p>博客荒废了好久,重新启用一下,换了一个叫Prontera的风格,下载地址<a href="https://github.com/AngryPowman/hexo-theme-prontera" target="_blank" rel="external">https://github.com/AngryPowman/hexo-theme-prontera</a></p><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;博客荒废了好久,重新启用一下,换了一个叫Prontera的风格,下载地址&lt;a href=&quot;https://github.com/AngryPowman/hexo-theme-prontera&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/AngryPowman/hexo-theme-prontera&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="日记" scheme="https://blog.qzcool.com/tags/%E6%97%A5%E8%AE%B0/"/>
    
  </entry>
  
  <entry>
    <title>iMac如何使用frp实现内网穿透</title>
    <link href="https://blog.qzcool.com/2017/12/19/frp/"/>
    <id>https://blog.qzcool.com/2017/12/19/frp/</id>
    <published>2017-12-19T07:56:15.000Z</published>
    <updated>2019-10-30T01:59:26.328Z</updated>
    
    <content type="html"><![CDATA[<p>有时需要把内网部署的站点映射到外网，让其别人也能访问到，例如做微信相关开发时需要把内网映射到外网，让微信服务器能访问到你的开发环境，方便开发调试。可以使用花生壳或者ngrok，前面这两种我都使用过，花生壳用起来很不稳定，花了钱还不能解决问题，ngrok现在已经很久没更新了，国内的可以在<a href="https://www.ngrok.cc" target="_blank" rel="external">https://www.ngrok.cc</a> 注册，免费用户仅能使用一个转发，由于是使用香港的服务器经常连接不上，最后狠下心来研究了下内网穿透，发现frp使用起来还可以，本文就介绍在iMac下如何用阿里云用frp做内网穿透，Windows的应该流程也类似。</p><blockquote><p>frp开源地址:<a href="https://github.com/fatedier/frp" target="_blank" rel="external">https://github.com/fatedier/frp</a></p></blockquote><h3 id="一-服务器配置"><a href="#一-服务器配置" class="headerlink" title="一.服务器配置"></a>一.服务器配置</h3><h5 id="1-使用终端ssh远程连接阿里云服务器"><a href="#1-使用终端ssh远程连接阿里云服务器" class="headerlink" title="1.使用终端ssh远程连接阿里云服务器"></a>1.使用终端ssh远程连接阿里云服务器</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ssh -t root@xxx.xxx.xxx.xxx -p 22</div></pre></td></tr></table></figure><p>进入到/home目录，创建文件夹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">mkdir frp</div></pre></td></tr></table></figure></p><h5 id="2-下载对应的frp发布版本"><a href="#2-下载对应的frp发布版本" class="headerlink" title="2.下载对应的frp发布版本"></a>2.下载对应的frp发布版本</h5><p>先查看服务器型号</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /proc/version</div></pre></td></tr></table></figure><p>本人服务器信息:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Linux version 4.4.0-101-generic (buildd@lcy01-amd64-006)</div></pre></td></tr></table></figure><p>下载frp</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo wget  https://github.com/fatedier/frp/releases/download/v0.13.0/frp_0.13.0_linux_amd64.tar.gz</div></pre></td></tr></table></figure><p>我的阿里云服务器下载不了frp文件，就先下载文件到本地，然后用ssh远程上传到阿里云服务器。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">scp -r frp_0.13.0_linux_amd64.tar.gz root@xxx.xxx.xxx.xxx:/home/frp/</div></pre></td></tr></table></figure></p><h5 id="3-配置frp服务端"><a href="#3-配置frp服务端" class="headerlink" title="3.配置frp服务端"></a>3.配置frp服务端</h5><p>解压到当前目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo tar xvf frp_0.13.0_linux_amd64.tar.gz</div></pre></td></tr></table></figure></p><p>解压之后进入目录会看到以下文件</p><a id="more"></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># ls</div><div class="line">LICENSE  frpc  frpc.ini  frpc_full.ini  frps  frps.ini  frps_full.ini</div></pre></td></tr></table></figure><p>打开frps.ini文件，配置成如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">bind_addr = xxx.xxx.xxx.xxx</div><div class="line">bind_port = 7000</div><div class="line">vhost_http_port = 80</div><div class="line">vhost_https_port = 443</div><div class="line">dashboard_port = 7500</div><div class="line">dashboard_user = 你的仪表盘用户名</div><div class="line">dashboard_pwd = 你的仪表盘密码</div><div class="line">privilege_token = frp</div></pre></td></tr></table></figure></p><p>其中bind_port是自己设定的frp服务端端口<br>vhost_http_port是自己设定的http访问端口<br>vhost_https_port是自己设定的https访问端口<br>[ssh]部分是ssh反向代理<br>listen_port是自己设定的ssh访问端口<br>custom_domains是自定义域名，如果有自己的域名就写到这里<br>privilege_token是验证凭据，服务端和客户端的凭据必须一样才能连接，当然为了安全还是设置长一点。dashborad的三个配置是仪表盘功能的端口以及用户名和密码，为了安全也要设置的长一点。</p><p>保存上面的配置后，使用以下指令启动frp服务端。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">./frps -c ./frps.ini</div></pre></td></tr></table></figure></p><p>查看frps.log然后应该会显示类似下面的文本，说明服务端启动成功<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Start frps success</div><div class="line">PrivilegeMode is enabled, you should pay more attention to security issues</div></pre></td></tr></table></figure></p><h3 id="二-客户端配置"><a href="#二-客户端配置" class="headerlink" title="二.客户端配置"></a>二.客户端配置</h3><p>iMac下载对应的frp版本frp_0.13.0_darwin_amd64.tar.gz<br>解压后有对应的文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># ls</div><div class="line">LICENSE  frpc  frpc.ini  frpc_full.ini  frps  frps.ini  frps_full.ini</div></pre></td></tr></table></figure></p><p>frpc和frpc.ini、frpc_full.ini 是客户端对应的配置文件<br>我的frpc.ini配置对应如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">[common]</div><div class="line">server_addr = xxx.xxx.xxx.xxx</div><div class="line">server_port = 7000  </div><div class="line"># console or real logFile path like ./frpc.log</div><div class="line">log_file = ./frpc.log </div><div class="line"># trace, debug, info, warn, error</div><div class="line">log_level = trace </div><div class="line">log_max_days = 3 </div><div class="line"># for authentication</div><div class="line">privilege_token = #######</div><div class="line"> </div><div class="line"># connections will be established in advance, default value is zero</div><div class="line">pool_count = 5 </div><div class="line"># if tcp stream multiplexing is used, default is true, it must be same with frps</div><div class="line">tcp_mux = true </div><div class="line"># your proxy name will be changed to &#123;user&#125;.&#123;proxy&#125;</div><div class="line">user = qzcool </div><div class="line"># decide if exit program when first login failed, otherwise continuous relogin to frps</div><div class="line"># default is true</div><div class="line">login_fail_exit = true </div><div class="line">[weixin]</div><div class="line">type = http</div><div class="line">local_ip = 127.0.0.1</div><div class="line">local_port = 8080</div><div class="line">use_encryption = false</div><div class="line">use_compression = false </div><div class="line">subdomain = weixin</div></pre></td></tr></table></figure></p><p>server_addr：对应的时阿里云的公网地址<br>server_port：服务端端口<br>privilege_token：token需要和服务端一致<br>最底下是配置站点信息<br>subdomain：子域名，假设服务器配置泛解析，子域名配置weixin，那么可以通过weixin.youdomin.com访问到你内网的8080端口</p><p>启动服务 :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">macdeiMac:frp_0.13.0_darwin_amd64 fred$ sudo ./frpc -c ./frpc.ini</div></pre></td></tr></table></figure></p><p>然后使用浏览器访问weixin.youdomin.com就能访问到你的站点了。</p><h3 id="三-frp开机启动和后台运行"><a href="#三-frp开机启动和后台运行" class="headerlink" title="三.frp开机启动和后台运行"></a>三.frp开机启动和后台运行</h3><p>使用systemd配置开机自启，适用于 centos7 Ubuntu 16 或 debian 8。<br>vi /etc/systemd/system/frps.service 新建此文件，并写入以下内容:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">[Unit]</div><div class="line"></div><div class="line">Description=frps daemon</div><div class="line"></div><div class="line">After=syslog.target network.target</div><div class="line"></div><div class="line">Wants=network.target</div><div class="line"></div><div class="line">[Service]</div><div class="line"></div><div class="line">Type=simple</div><div class="line"></div><div class="line">ExecStart=/root/frp_0.13.0_linux_amd64/frps -c /root/frp_0.13.0_linux_amd64/frps_my.ini</div><div class="line"></div><div class="line">Restart= always</div><div class="line"></div><div class="line">RestartSec=1min</div><div class="line"></div><div class="line">[Install]</div><div class="line"></div><div class="line">WantedBy=multi-user.target</div></pre></td></tr></table></figure></p><p>启动并设为开机自启。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">systemctl start frps //启动 </div><div class="line">systemctl status frps //状态查询 </div><div class="line">systemctl enable frps //开机启动</div></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;有时需要把内网部署的站点映射到外网，让其别人也能访问到，例如做微信相关开发时需要把内网映射到外网，让微信服务器能访问到你的开发环境，方便开发调试。可以使用花生壳或者ngrok，前面这两种我都使用过，花生壳用起来很不稳定，花了钱还不能解决问题，ngrok现在已经很久没更新了，国内的可以在&lt;a href=&quot;https://www.ngrok.cc&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://www.ngrok.cc&lt;/a&gt; 注册，免费用户仅能使用一个转发，由于是使用香港的服务器经常连接不上，最后狠下心来研究了下内网穿透，发现frp使用起来还可以，本文就介绍在iMac下如何用阿里云用frp做内网穿透，Windows的应该流程也类似。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;frp开源地址:&lt;a href=&quot;https://github.com/fatedier/frp&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;https://github.com/fatedier/frp&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;一-服务器配置&quot;&gt;&lt;a href=&quot;#一-服务器配置&quot; class=&quot;headerlink&quot; title=&quot;一.服务器配置&quot;&gt;&lt;/a&gt;一.服务器配置&lt;/h3&gt;&lt;h5 id=&quot;1-使用终端ssh远程连接阿里云服务器&quot;&gt;&lt;a href=&quot;#1-使用终端ssh远程连接阿里云服务器&quot; class=&quot;headerlink&quot; title=&quot;1.使用终端ssh远程连接阿里云服务器&quot;&gt;&lt;/a&gt;1.使用终端ssh远程连接阿里云服务器&lt;/h5&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;ssh -t root@xxx.xxx.xxx.xxx -p 22&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;进入到/home目录，创建文件夹&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;mkdir frp&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h5 id=&quot;2-下载对应的frp发布版本&quot;&gt;&lt;a href=&quot;#2-下载对应的frp发布版本&quot; class=&quot;headerlink&quot; title=&quot;2.下载对应的frp发布版本&quot;&gt;&lt;/a&gt;2.下载对应的frp发布版本&lt;/h5&gt;&lt;p&gt;先查看服务器型号&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;cat /proc/version&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;本人服务器信息:&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;Linux version 4.4.0-101-generic (buildd@lcy01-amd64-006)&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;下载frp&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo wget  https://github.com/fatedier/frp/releases/download/v0.13.0/frp_0.13.0_linux_amd64.tar.gz&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;我的阿里云服务器下载不了frp文件，就先下载文件到本地，然后用ssh远程上传到阿里云服务器。&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;scp -r frp_0.13.0_linux_amd64.tar.gz root@xxx.xxx.xxx.xxx:/home/frp/&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h5 id=&quot;3-配置frp服务端&quot;&gt;&lt;a href=&quot;#3-配置frp服务端&quot; class=&quot;headerlink&quot; title=&quot;3.配置frp服务端&quot;&gt;&lt;/a&gt;3.配置frp服务端&lt;/h5&gt;&lt;p&gt;解压到当前目录&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;sudo tar xvf frp_0.13.0_linux_amd64.tar.gz&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;解压之后进入目录会看到以下文件&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="frp" scheme="https://blog.qzcool.com/tags/frp/"/>
    
  </entry>
  
</feed>
