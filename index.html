<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 非鱼笔记</title><meta name="description" content="80后,略懂一点编程."><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/prontera.css"><link rel="search" type="application/opensearchdescription+xml" href="https://blog.qzcool.com/atom.xml" title="非鱼笔记"></head><body><header class="feature-header"><nav class="component-nav"><ul><div class="logo-container"><a href="/"><h2 class="title">非鱼笔记</h2></a></div><a href="/" target="_self" class="li component-nav-item"><p class="selected">INDEX</p></a><a href="/archives" target="_self" class="li component-nav-item"><p>ARCHIVES</p></a><ul class="shortcut-icons"><a href="https://github.com/fredliu168" target="_blank"><img src="/images/github.svg" class="icon"></a><a href="/atom.xml" target="_blank"><img src="/images/rss.svg" class="icon"></a></ul></ul></nav></header><main class="container"><div id="body-container"><div id="post-list" class="left"><div class="home post-list"><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2020/05/27/树莓派搭建Nas/" class="post-title-link">树莓派搭建Nas</a></h2><div class="post-info">May 27, 2020</div><div class="post-content"></div><a href="/2020/05/27/树莓派搭建Nas/" class="read-more">READ MORE</a></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2020/05/07/显示来自远程JSON文件的SwiftUI列表/" class="post-title-link">显示来自远程JSON文件的SwiftUI列表</a></h2><div class="post-info">May 7, 2020</div><div class="post-content"><p>Displaying a List with SwiftUI from a remote JSON file</p>
<p>显示来自远程 JSON 文件的 SwiftUI 列表</p>
<p>The purpose of this tutorial is to show a simple way to fetch data from a remote JSON file and display it on a List in SwiftUI. Apple has a tutorial with a local file, also this one teaches you how to do this, however I want to show a simpler way using a newer version of Xcode 11.0 (11A420a).</p>
<p>本教程的目的是展示一种从远程 JSON 文件中获取数据并将其显示在 SwiftUI 的 List 中的简单方法。 苹果有一个本地文件的教程，也教你如何做到这一点，但我想显示一个更简单的方式使用新版本的 Xcode 11.0(11A420a)。</p>
<p>Apple beta libraries are getting constantly changed before releasing the final versions, so older tutorials might not work on the latest versions of XCode</p>
<p>在发布最终版本之前，苹果的测试版本库会不断更新，所以以前的教程可能无法在最新版本的 XCode 上工作</p>
<p>Supposing we have this JSON file, that show an array of movie titles.</p>
<p>假设我们有这个 JSON 文件，它显示一组电影标题。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div></pre></td><td class="code"><pre><div class="line">[</div><div class="line">  &#123;</div><div class="line">    <span class="attr">"id"</span>: <span class="number">5</span>,</div><div class="line">    <span class="attr">"title"</span>: <span class="string">"Joker"</span>,</div><div class="line">    <span class="attr">"year"</span>: <span class="string">"2019"</span>,</div><div class="line">    <span class="attr">"image"</span>: <span class="string">""</span>,</div><div class="line">    <span class="attr">"created_at"</span>: <span class="string">"2019-10-06T17:55:21.374Z"</span>,</div><div class="line">    <span class="attr">"updated_at"</span>: <span class="string">"2019-10-06T17:55:21.374Z"</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">"id"</span>: <span class="number">1</span>,</div><div class="line">    <span class="attr">"title"</span>: <span class="string">"Pulp Fiction"</span>,</div><div class="line">    <span class="attr">"year"</span>: <span class="string">"1994"</span>,</div><div class="line">    <span class="attr">"image"</span>: <span class="string">""</span>,</div><div class="line">    <span class="attr">"created_at"</span>: <span class="string">"2019-10-06T15:26:36.675Z"</span>,</div><div class="line">    <span class="attr">"updated_at"</span>: <span class="string">"2019-10-06T18:05:31.649Z"</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">"id"</span>: <span class="number">4</span>,</div><div class="line">    <span class="attr">"title"</span>: <span class="string">" The Godfather "</span>,</div><div class="line">    <span class="attr">"year"</span>: <span class="string">"1972"</span>,</div><div class="line">    <span class="attr">"image"</span>: <span class="string">""</span>,</div><div class="line">    <span class="attr">"created_at"</span>: <span class="string">"2019-10-06T15:27:38.123Z"</span>,</div><div class="line">    <span class="attr">"updated_at"</span>: <span class="string">"2019-10-06T18:05:50.242Z"</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">"id"</span>: <span class="number">6</span>,</div><div class="line">    <span class="attr">"title"</span>: <span class="string">"The Dark Knight "</span>,</div><div class="line">    <span class="attr">"year"</span>: <span class="string">"2008"</span>,</div><div class="line">    <span class="attr">"image"</span>: <span class="string">""</span>,</div><div class="line">    <span class="attr">"created_at"</span>: <span class="string">"2019-10-06T18:06:12.933Z"</span>,</div><div class="line">    <span class="attr">"updated_at"</span>: <span class="string">"2019-10-06T18:06:12.933Z"</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">"id"</span>: <span class="number">7</span>,</div><div class="line">    <span class="attr">"title"</span>: <span class="string">"Fight Club"</span>,</div><div class="line">    <span class="attr">"year"</span>: <span class="string">"1999"</span>,</div><div class="line">    <span class="attr">"image"</span>: <span class="string">""</span>,</div><div class="line">    <span class="attr">"created_at"</span>: <span class="string">"2019-10-06T18:06:33.096Z"</span>,</div><div class="line">    <span class="attr">"updated_at"</span>: <span class="string">"2019-10-06T18:06:33.096Z"</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">"id"</span>: <span class="number">8</span>,</div><div class="line">    <span class="attr">"title"</span>: <span class="string">" Inception"</span>,</div><div class="line">    <span class="attr">"year"</span>: <span class="string">"2010"</span>,</div><div class="line">    <span class="attr">"image"</span>: <span class="string">""</span>,</div><div class="line">    <span class="attr">"created_at"</span>: <span class="string">"2019-10-06T18:06:52.034Z"</span>,</div><div class="line">    <span class="attr">"updated_at"</span>: <span class="string">"2019-10-06T18:06:52.034Z"</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">"id"</span>: <span class="number">2</span>,</div><div class="line">    <span class="attr">"title"</span>: <span class="string">"The Matrix "</span>,</div><div class="line">    <span class="attr">"year"</span>: <span class="string">"1999"</span>,</div><div class="line">    <span class="attr">"image"</span>: <span class="string">""</span>,</div><div class="line">    <span class="attr">"created_at"</span>: <span class="string">"2019-10-06T15:26:48.042Z"</span>,</div><div class="line">    <span class="attr">"updated_at"</span>: <span class="string">"2019-10-06T18:08:00.902Z"</span></div><div class="line">  &#125;,</div><div class="line">  &#123;</div><div class="line">    <span class="attr">"id"</span>: <span class="number">3</span>,</div><div class="line">    <span class="attr">"title"</span>: <span class="string">"The Shawshank Redemption "</span>,</div><div class="line">    <span class="attr">"year"</span>: <span class="string">"1984"</span>,</div><div class="line">    <span class="attr">"image"</span>: <span class="string">""</span>,</div><div class="line">    <span class="attr">"created_at"</span>: <span class="string">"2019-10-06T15:26:59.572Z"</span>,</div><div class="line">    <span class="attr">"updated_at"</span>: <span class="string">"2019-10-06T18:08:47.637Z"</span></div><div class="line">  &#125;</div><div class="line">]</div></pre></td></tr></table></figure>
<p>And we want to display them on a SwiftUI List like this.</p>
<p>我们希望像这样在 SwiftUI 列表中显示它们。</p>
<img src="/2020/05/07/显示来自远程JSON文件的SwiftUI列表/swift_list.png" alt="This is an image" title="This is an image">
<p>First we need to define the model for Movie in this case a struct with Decodable and Identifiable protocols. Decodable to be able to decode it from the JSON file and Identifiable to be able to be listed with List. List allows you to display a list of data from an Identifiable Collection just like a UITableViewController.</p>
<p>首先，在这种情况下，我们需要为 Movie 定义一个具有可解码和可识别协议的结构。 可解码能够从 JSON 文件解码，可识别能够与列表一起列出。 List 允许您像 UITableViewController 一样显示可识别集合中的数据列表。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Movie</span>: <span class="title">Decodable</span>, <span class="title">Identifiable</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">var</span> id: <span class="type">Int</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">var</span> name: <span class="type">String</span></div><div class="line">    <span class="keyword">public</span> <span class="keyword">var</span> released: <span class="type">String</span></div><div class="line"></div><div class="line">    <span class="class"><span class="keyword">enum</span> <span class="title">CodingKeys</span>: <span class="title">String</span>, <span class="title">CodingKey</span> </span>&#123;</div><div class="line">           <span class="keyword">case</span> id = <span class="string">"id"</span></div><div class="line">           <span class="keyword">case</span> name = <span class="string">"title"</span></div><div class="line">           <span class="keyword">case</span> released = <span class="string">"year"</span></div><div class="line">        &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></div><a href="/2020/05/07/显示来自远程JSON文件的SwiftUI列表/" class="read-more">READ MORE</a></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2020/04/29/Mac软件推荐/" class="post-title-link">Mac软件推荐</a></h2><div class="post-info">Apr 29, 2020</div><div class="post-content"></div><a href="/2020/04/29/Mac软件推荐/" class="read-more">READ MORE</a></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2020/04/24/openwrt软路由间歇性断流掉线无法连接的解决办法/" class="post-title-link">openwrt软路由间歇性断流掉线无法连接的解决办法</a></h2><div class="post-info">Apr 24, 2020</div><div class="post-content"></div><a href="/2020/04/24/openwrt软路由间歇性断流掉线无法连接的解决办法/" class="read-more">READ MORE</a></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2020/04/24/树莓派Docker中使用openwrt做旁路网关/" class="post-title-link">树莓派Docker中使用openwrt做旁路网关</a></h2><div class="post-info">Apr 24, 2020</div><div class="post-content"></div><a href="/2020/04/24/树莓派Docker中使用openwrt做旁路网关/" class="read-more">READ MORE</a></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2020/04/24/树莓派Docker设置代理/" class="post-title-link">树莓派Docker设置代理</a></h2><div class="post-info">Apr 24, 2020</div><div class="post-content"><p>Docker 无法访问到仓库，网上找的方法都无效，发现 Docker 是通过 snap 安装的，通过下面的方法实现了代理访问</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vim /etc/systemd/system/snap.docker.dockerd.service</div></pre></td></tr></table></figure>
<p>添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[Service]</div><div class="line">...</div><div class="line">Environment=&quot;HTTPS_PROXY=socks5://127.0.0.1:1080&quot;</div></pre></td></tr></table></figure>
<p>然后执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo systemctl daemon-reload</div><div class="line">sudo snap restart docker</div></pre></td></tr></table></figure>
<p>然后执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">docker login</div></pre></td></tr></table></figure>
<p>可以正常访问到仓库了。</p>
<p>其他（上面的设置突然无效了,使用下面有效）</p>
<p>写入代理设置</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">sudo <span class="built_in">mkdir</span> /lib/systemd/system/docker.service.d</div><div class="line">cat &gt; /lib/systemd/system/docker.service.d/socks5-proxy.conf &lt;&lt;EOF</div><div class="line">[Service]</div><div class="line">Environment="ALL_PROXY=socks5://<span class="number">127</span>.<span class="number">0</span>.<span class="number">0</span>.<span class="number">1</span>:<span class="number">1080</span>"</div><div class="line">EOF</div></pre></td></tr></table></figure>
<p>重新加载配置</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">systemctl daemon-reload</div><div class="line">systemctl restart docker</div></pre></td></tr></table></figure></div><a href="/2020/04/24/树莓派Docker设置代理/" class="read-more">READ MORE</a></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2020/04/23/Mac设置Anaconda环境变量/" class="post-title-link">Mac设置Anaconda环境变量</a></h2><div class="post-info">Apr 23, 2020</div><div class="post-content"></div><a href="/2020/04/23/Mac设置Anaconda环境变量/" class="read-more">READ MORE</a></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2020/04/17/通过树莓派4共享CMCC上网/" class="post-title-link">通过树莓派4共享CMCC上网</a></h2><div class="post-info">Apr 17, 2020</div><div class="post-content"></div><a href="/2020/04/17/通过树莓派4共享CMCC上网/" class="read-more">READ MORE</a></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2020/04/10/Docker常用操作命令/" class="post-title-link">Docker常用操作命令</a></h2><div class="post-info">Apr 10, 2020</div><div class="post-content"></div><a href="/2020/04/10/Docker常用操作命令/" class="read-more">READ MORE</a></article></div><div class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2020/03/16/Nginx泛域名添加https免费SSL证书Lets-Encrypt-certbot-安装使用步骤/" class="post-title-link">Nginx泛域名添加https免费SSL证书Lets Encrypt(certbot)安装使用步骤
</a></h2><div class="post-info">Mar 16, 2020</div><div class="post-content"><p>本文介绍如何在 nginx 服务器上使用免费的 Let’s Encrypt 凭证，提供 HTTPS 的安全加密网页。</p>
<p>本教程的安装环境是:</p>
<blockquote>
<p>阿里云Ubuntu 16.04.3 LTS (GNU/Linux 4.4.0-105-generic x86_64)</p>
</blockquote>
<p>本人服务器上安装路径：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">/home/frp/0.21.0/certbot-auto</div></pre></td></tr></table></figure></div><a href="/2020/03/16/Nginx泛域名添加https免费SSL证书Lets-Encrypt-certbot-安装使用步骤/" class="read-more">READ MORE</a></article></div></div></div><div id="sidebar" class="left"><div id="about-panel"><div class="info"><div class="title">Fishman</div><div class="url">https://blog.qzcool.com</div><div class="bio">且行且珍惜</div></div><img src="/images/avatar.png" class="avatar"></div><div id="friend-links-panel"><div class="panel-title"><p>LINKS</p></div><a href="https://www.restran.net" target="_blank" class="link-item"><div class="link-container"><div class="site-name">restran</div><div class="site-desc">淡水</div></div></a><a href="https://qzcool.xyz" target="_blank" class="link-item"><div class="link-container"><div class="site-name">iReading</div><div class="site-desc">英语学习,经济学人在线阅读</div></div></a></div></div></div><div class="clear"></div></main><footer class="footer-container"><div class="paginator"><a href="/page/2/" class="next">NEXT</a></div><div class="copyright"><p>© 2017 - 2020 <a href="https://blog.qzcool.com">fredliu</a>,<a href='http://www.beian.miit.gov.cn'>备案编号:闽ICP备17012963号-1</a> powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/AngryPowman/hexo-theme-prontera" target="_blank">hexo-theme-prontera</a>.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"fishman",'auto');ga('send','pageview');</script></body></html>